{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css","redux/dialogs-reduсer.ts","components/FormsControls/Textarea.tsx","Api/Api.ts","redux/profile-reducer.ts","redux/sidebar-reducer.ts","redux/users-reduсer.ts","redux/auth-reduсer.ts","redux/app-reduсer.ts","Api/chat-api.ts","redux/chat-reduсer.ts","redux/redux-store.ts","img/3.svg","components/preloader/Preloader.tsx","img/mountain.jpg","components/Profile/ProfileInfo/ProfileStatus.tsx","img/img.png","components/Profile/ProfileInfo/ProfileInfo.tsx","img/bird.jpg","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/FormsControls/Input.tsx","components/Login/Login.tsx","components/News/News.tsx","components/Music/Music.tsx","img/neand.png","components/Users/Paginator.tsx","components/Users/UsersSearchForm.tsx","redux/users-selectors.ts","components/Users/Users.tsx","components/Users/UsersContainer.tsx","components/Header/Header.tsx","pages/Chat/Message.tsx","pages/Chat/ChatPage.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Users/Users.module.css","utils/validators/validators.ts","pages/Chat/Message.module.css","components/FormsControls/Textarea.module.css"],"names":["module","exports","SendMessageActionCreator","newMessageBody","type","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","stateCopy","body","push","Textarea","input","meta","props","className","styles","formControl","touched","error","instance","axios","create","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","term","friend","get","then","response","data","userID","post","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","posts","likesCount","profile","setStatus","friends","users","totalUsersCount","isFetching","followingProgress","filter","followSuccess","unFollowSuccess","setFilter","payload","setCurrentPage","setPreloader","setFollowingInProgress","getUsersThunkCreator","dispatch","a","items","totalCount","login","isAuth","captchaURL","setUserData","setCaptchaURL","getAuthUserData","resultCode","getCaptcha","res","url","console","log","initialized","wsChanel","wsHandler","setTimeout","createChanel","removeEventListener","close","WebSocket","addEventListener","onMessageHandler","e","newMessages","JSON","parse","subscribers","forEach","s","chatAPI","callback","send","newMessageHandler","reducers","combineReducers","dialogsPage","profilePage","newPostText","sidebar","usersPage","map","u","followed","t","auth","form","formReducer","appReducer","chatReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Preloader","main","img","alt","src","preloader","ProfileStatus","useState","editMode","setEditMode","useEffect","ofEditMode","onKeyPress","charCode","onChange","currentTarget","value","autoFocus","onBlur","onDoubleClick","ProfileInfo","mountains","profile__wrapper","image","photos","large","userPhoto","isOwner","target","files","length","aboutMe","lookingForAJob","fullName","toUpperCase","slice","Post","bird","wrap","likes","maxLength","maxLengthCreator","MyPosts","React","memo","AddNewPostForm","onSubmit","values","addPost","index","reduxForm","handleSubmit","Field","component","validate","required","placeholder","MyPostsContainer","connect","addPostActionCreator","Profile","ProfileContainer","this","match","params","userId","history","getUserProfile","refreshProfile","prevProps","prevState","snapshot","Component","file","withRouter","Input","LoginFormRedux","initialValues","Login","useSelector","useDispatch","to","News","title","Music","Paginator","OnPageHandler","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination_wrapper","onClick","p","selectedPage","UsersSearchForm","enableReinitialize","String","setSubmitting","OnFilterHandler","isSubmitting","as","disabled","getPageSize","createSelector","user","getCurrentPage","Users","useHistory","followingInProgress","search","location","parsed","queryString","substr","actualPage","actualFilter","page","pathname","followUser","follow","unfollowUser","unfollow","pageNumber","item","small","some","desc","UsersContainer","Header","Layout","span","theme","mode","defaultSelectedKeys","Item","style","backgroundColor","icon","UserOutlined","Message","messageData","photo","userName","wrapper","info","author","block","ChatPage","Chat","Messages","MessagesForm","height","overflowY","setMessage","sendMessage","SubMenu","Menu","Content","Footer","Sider","DialogsContainer","lazy","App","initializeApp","padding","width","defaultOpenKeys","LaptopOutlined","minHeight","exact","path","render","fallback","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","undefined"],"mappings":"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","file":"static/js/main.0b3e22be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2LSn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ProfileInfo_img__2lCOw\",\"image\":\"ProfileInfo_image__2Jz3F\",\"profile__wrapper\":\"ProfileInfo_profile__wrapper__F4K3S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3wUTQ\",\"wrap\":\"Post_wrap__bSfXB\",\"img\":\"Post_img__2LJI8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__1a-af\",\"img\":\"Preloader_img__2tHPs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__TOD2P\",\"main\":\"MyPosts_main__2ptLK\"};","import {DialogsType, MessagesType} from \"./store\";\r\n\r\n\r\nexport type  DialogsPageType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n\r\n}\r\n\r\n\r\nexport type  SendMessageActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SEND-MESSAGE\"\r\n    newMessageBody:string\r\n}\r\n\r\n\r\n// export const updateNewPostBodyActionCreator = (body: string): UpdateNewPostBodyActionType => {\r\n//     return {\r\n//         type: \"UPDATE-NEW-POST-BODY\",\r\n//         body: body\r\n//     }\r\n// }\r\n\r\nexport const SendMessageActionCreator = (newMessageBody:string): SendMessageActionType => {\r\n    return {\r\n        type: \"SEND-MESSAGE\",\r\n        newMessageBody\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Ivan\"},\r\n        {id: 2, name: \"Oleg\"},\r\n        {id: 3, name: \"Misha\"},\r\n        {id: 4, name: \"Petr\"},\r\n        {id: 5, name: \"Alex\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Privet\"},\r\n        {id: 2, message: \"How are you\"},\r\n        {id: 3, message: \"Lets we meet\"},\r\n        {id: 4, message: \"No\"},\r\n    ],\r\n   }\r\n\r\n\r\nexport const dialogsReducer = (state: DialogsPageType = initialState, action: SendMessageActionType) => {\r\n    switch (action.type) {\r\n        // case \"UPDATE-NEW-POST-BODY\": {\r\n        //     let stateCopy = {...state} /*делается копия для правильного изменения стейта*/\r\n        //     action.newMessageBody = action.body /* была параметр ф, а теперь мы берем его из экшена*/\r\n        //     return stateCopy\r\n        // }\r\n        case \"SEND-MESSAGE\": {\r\n            let stateCopy = {...state, messages: [...state.messages]}/* делается глубокая копия стейта и мессаджес в стейте*/\r\n            let body = action.newMessageBody/* была параметр ф, а теперь мы берем его из экшена*/\r\n\r\n\r\n            stateCopy.messages.push({id: 5, message: body})\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport styles from \"./Textarea.module.css\"\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}: WrappedFieldProps) => {\r\n\r\n    return (\r\n        <div className={`${styles.formControl} ${meta.touched && meta.error ? styles.error : \"\"}`}>\r\n            <div><textarea {...input} {...props} /></div>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"7c38f700-eae7-4224-81a9-9392ebf67fbb\"\r\n    }\r\n})\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number, term: string = \"\", friend: null | boolean = null) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? \"\" : `&friend=${friend}`))  /*приклеиваем сюда baseURL и продолжение адерса*/\r\n            .then(response => response.data) /*уменьшаем получаемый респонс*/\r\n    },\r\n    follow(userID: number) {\r\n        return instance.post(`follow/${userID}`)\r\n    },\r\n    unfollow(userID: number) {\r\n        return instance.delete(`follow/${userID}`)\r\n    },\r\n    getProfile(userID: string) {\r\n        return profileAPI.getProfile(userID)\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userID: string) {\r\n        return instance.get(`profile/` + userID)\r\n    },\r\n    getStatus(userID: string) {\r\n        return instance.get(`profile/status/` + userID)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status})\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo/`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    loginOut() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    },\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {profileAPI, userAPI} from \"../Api/Api\";\r\n\r\n\r\nexport  type  PostsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\n\r\nexport type ProfileType = {\r\n    photos: PhotosType\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n}\r\ntype PhotosType = {\r\n    'small': string\r\n    'large': string\r\n}\r\ntype  ContactsType = {\r\n    facebook: string\r\n    website: null\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: null\r\n    github: string\r\n    mainLink: null\r\n}\r\n\r\n\r\nexport type  ProfilePageType = {\r\n    status: string;\r\n    posts: Array<PostsType>\r\n    profile: null | ProfileType\r\n}\r\n\r\nexport type  AddPostActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"PROFILE/ADD-POST\"\r\n    newPostText: string\r\n}\r\n\r\nexport type DeletePostActionType = ReturnType<typeof deletePostActionCreator>\r\n\r\n\r\n// export type  UpdateNewPostActionType = { /*необходимо для типизации диспатчка*/\r\n//     type: \"UPDATE-NEW-POST-TEXT\"\r\n//     newText: string\r\n// }\r\n\r\n\r\nexport type  SetUserProfileActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"PROFILE/SET-USER-PROFILE\"\r\n    profile: null | ProfileType\r\n\r\n}\r\n\r\nexport type  setStatusActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"PROFILE/SET-STATUS\"\r\n    status: string\r\n\r\n}\r\n\r\nexport type SetPhotoSuccessActionType = ReturnType<typeof savePhotoSuccess>\r\n\r\n\r\nexport type  ActionsType =\r\n    AddPostActionType\r\n    | SetUserProfileActionType\r\n    | setStatusActionType\r\n    | DeletePostActionType\r\n    | SetPhotoSuccessActionType\r\n\r\n\r\n/*Создаем инициализационный стейт для profileReducer*/\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hello\", likesCount: 8},\r\n        {id: 2, message: \"How are you?\", likesCount: 15},\r\n        {id: 3, message: \"Where are you?\", likesCount: 50},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ActionsType): ProfilePageType => { /*указываем стейту инициализационное значение*/\r\n    switch (action.type) {\r\n        case \"PROFILE/SET-STATUS\": {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case \"PROFILE/ADD-POST\": {\r\n            // let newPost: PostsType = {\r\n            //     id: 5,\r\n            //     message: state.newPostText,\r\n            //     likesCount: 0\r\n            // }\r\n            return {\r\n                ...state,\r\n                posts: [{\r\n                    id: 5,\r\n                    message: action.newPostText,\r\n                    likesCount: 0\r\n                }, ...state.posts],\r\n            } /*делается копия для правильного изменения стейта*/\r\n\r\n            // stateCopy.posts.unshift(newPost) /*стейт тут приходит в пропсах это this._state.profilePage*/\r\n            // stateCopy.newPostText = \"\"\r\n            // return stateCopy\r\n            // break; /*брейк можно заменить ретурн стейт в каждом кейсе*/\r\n        }\r\n        case \"PROFILE/SET-USER-PROFILE\": {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case \"PROFILE/DELETE-POST\": {\r\n            return {...state, posts: state.posts.filter((post) => post.id != action.id)}\r\n        }\r\n        case \"PROFILE/SET-PHOTO\": {\r\n            return {...state, profile: state.profile ? {...state.profile} : null}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText: string): AddPostActionType => {\r\n    return {\r\n        type: \"PROFILE/ADD-POST\",\r\n        newPostText\r\n    }\r\n}\r\n\r\nexport const deletePostActionCreator = (id: number) => {\r\n    return {\r\n        type: \"PROFILE/DELETE-POST\",\r\n        id\r\n    } as const\r\n}\r\n\r\n\r\n/*ф. возвращающая экшен, ее вызывают в компоненте в диспатче\r\nи прокидывают в параметрах данные сюда. АК экспорт. его не надо прокидывать пропсами props.dispatch (updateNewPostActionCreator(text)) */\r\n\r\nexport const setUserProfile = (profile: null | ProfileType): SetUserProfileActionType => {\r\n    return {\r\n        type: \"PROFILE/SET-USER-PROFILE\",\r\n        profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status: string): setStatusActionType => {\r\n    return {\r\n        type: \"PROFILE/SET-STATUS\",\r\n        status\r\n    }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos: PhotosType) => {\r\n    return {\r\n        type: \"PROFILE/SET-PHOTO\",\r\n        photos\r\n    } as const\r\n}\r\n\r\n\r\nexport const getUserProfile = (userID: string) => async (dispatch: Dispatch) => {\r\n    const response = await userAPI.getProfile(userID)\r\n    dispatch(setUserProfile(response.data))/*отправляем полученные данные в стейт*/\r\n}\r\n\r\n\r\nexport const getStatus = (userID: string) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.getStatus(userID)\r\n    dispatch(setStatus(response.data))/*отправляем полученные данные в стейт*/\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))/*отправляем полученные данные в стейт*/\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.photos))\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {SidebarType} from \"./store\";\r\n\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {name: \"Ivan\"},\r\n        {name: \"Oleg\"},\r\n        {name: \"Petr\"},\r\n        {name: \"Vasa\"},\r\n        {name: \"Sergei\"},\r\n        {name: \"Margo\"}\r\n    ]\r\n}\r\n\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: any) => {\r\n\r\n    return state\r\n}","import {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../Api/Api\";\r\n\r\nexport type  FollowActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/FOLLOW\"\r\n    userID: number\r\n}\r\n\r\nexport type  UnFollowActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/UNFOLLOW\"\r\n    userID: number\r\n}\r\n\r\nexport type  SetUsersActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/SET-USERS\"\r\n    users: Array<UsersType>\r\n}\r\n\r\nexport type  SetCurrentPageActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/SET-CURRENT-PAGE\"\r\n    currentPage: number\r\n}\r\n\r\nexport type  SetUsersTotalCountActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/SET-CURRENT-TOTAL-COUNT\"\r\n    totalCount: number\r\n}\r\n\r\nexport type  SetPreloaderActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/SET-PRELOADER\"\r\n    isFetching: boolean\r\n}\r\nexport type  FollowingInProgressActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/FOLLOWING-IN-PROGRESS\"\r\n    userID: number\r\n    isFetching: boolean\r\n}\r\n\r\nexport type  SetFiltersActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"USERS/SET-FILTER\"\r\n    payload: {\r\n        term: string,\r\n        friend: null | boolean\r\n    }\r\n}\r\n\r\n\r\n////\r\n\r\n\r\nexport type  UsersMainType = {  /*типизация стейта локального*/\r\n    users: Array<UsersType>\r\n    pageSize: number,\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: number[],\r\n    filter: {\r\n        term: string,\r\n        friend: null | boolean\r\n    }\r\n}\r\n\r\nexport type  UsersType = {\r\n    id: number\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: LocationType\r\n}\r\n\r\nexport type  PhotosType = {\r\n    small: null | string\r\n    large: null | string\r\n\r\n}\r\n\r\ntype  LocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\n\r\nexport type  ActionType =\r\n    FollowActionType\r\n    | UnFollowActionType\r\n    | SetUsersActionType\r\n    | SetCurrentPageActionType\r\n    | SetUsersTotalCountActionType\r\n    | SetPreloaderActionType\r\n    | FollowingInProgressActionType\r\n    | SetFiltersActionType\r\n\r\n\r\nlet initialState: UsersMainType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingProgress: [],\r\n    filter: {\r\n        term: \"\",\r\n        friend: null\r\n    }\r\n}\r\n\r\n\r\nexport type FilterType = typeof initialState.filter\r\n\r\n\r\nexport const usersReducer = (state: UsersMainType = initialState, action: ActionType): UsersMainType => {\r\n    switch (action.type) {\r\n        case \"USERS/FOLLOW\": {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n\r\n        case \"USERS/UNFOLLOW\": {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n        case \"USERS/SET-USERS\": {\r\n            return {...state, users: action.users}\r\n        }\r\n        case \"USERS/SET-CURRENT-PAGE\": {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case \"USERS/SET-CURRENT-TOTAL-COUNT\": {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case \"USERS/SET-PRELOADER\": {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case \"USERS/FOLLOWING-IN-PROGRESS\": {\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userID]\r\n                    : state.followingProgress.filter((t) => t !== action.userID)\r\n\r\n            }\r\n        }\r\n        case \"USERS/SET-FILTER\": {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n/*Это экшен криэйторы у которых в названии в конце убрали букву AC*/\r\n\r\n\r\nexport const followSuccess = (userID: number): FollowActionType => {\r\n    return {\r\n        type: \"USERS/FOLLOW\",\r\n        userID: userID\r\n    }\r\n}\r\nexport const unFollowSuccess = (userID: number): UnFollowActionType => {\r\n    return {\r\n        type: \"USERS/UNFOLLOW\",\r\n        userID: userID\r\n    }\r\n}\r\nexport const setUsers = (users: Array<UsersType>): SetUsersActionType => {\r\n    return {\r\n        type: \"USERS/SET-USERS\",\r\n        users: users\r\n    }\r\n}\r\nexport const setFilter = (filter: FilterType): SetFiltersActionType => {\r\n    return {\r\n        type: \"USERS/SET-FILTER\",\r\n        payload: filter\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => {\r\n    return {\r\n        type: \"USERS/SET-CURRENT-PAGE\",\r\n        currentPage: currentPage\r\n    }\r\n}\r\n\r\n\r\nexport const setTotalUsersCount = (totalCount: number): SetUsersTotalCountActionType => {\r\n    return {\r\n        type: \"USERS/SET-CURRENT-TOTAL-COUNT\",\r\n        totalCount: totalCount\r\n    }\r\n}\r\nexport const setPreloader = (isFetching: boolean): SetPreloaderActionType => {\r\n    return {\r\n        type: \"USERS/SET-PRELOADER\",\r\n        isFetching: isFetching\r\n    }\r\n}\r\nexport const setFollowingInProgress = (userID: number, isFetching: boolean): FollowingInProgressActionType => {\r\n    return {\r\n        type: \"USERS/FOLLOWING-IN-PROGRESS\",\r\n        userID: userID,\r\n        isFetching: isFetching\r\n    }\r\n}\r\n\r\n\r\n/*санки*/\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number, filter: FilterType) => async (dispatch: Dispatch) => {  /*это санка*/\r\n\r\n    dispatch(setPreloader(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(setFilter(filter))\r\n    const data = await userAPI.getUsers(currentPage, pageSize, filter.term, filter.friend)\r\n    dispatch(setPreloader(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\n\r\nexport const follow = (userID: number) => { /*это криэйтор санки*/\r\n    return async (dispatch: Dispatch) => {   /*это санка*/\r\n        dispatch(setFollowingInProgress(userID, true))\r\n        const response = await userAPI.follow(userID)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(followSuccess(userID))\r\n        }\r\n        dispatch(setFollowingInProgress(userID, false))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID: number) => { /*это криэйтор санки*/\r\n    return async (dispatch: Dispatch) => {   /*это санка*/\r\n        dispatch(setFollowingInProgress(userID, true))\r\n        const response = await userAPI.unfollow(userID)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(unFollowSuccess(userID))\r\n        }\r\n        dispatch(setFollowingInProgress(userID, false))\r\n    }\r\n}\r\n\r\n\r\n","import {authAPI, securityAPI} from \"../Api/Api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppThunk, StateReduxType} from \"./redux-store\";\r\nimport {FormAction} from \"redux-form\";\r\n\r\n\r\nexport type  AuthMainType = {  /*типизация стейта локального*/\r\n    id: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n    captchaURL: null | string\r\n}\r\n\r\nlet initialState: AuthMainType = {\r\n    id: 2,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaURL: null,\r\n}\r\n\r\n\r\nexport const authReducer = (state = initialState, action: ActionType) => {\r\n    switch (action.type) {\r\n        case \"AUTH/SET-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        case \"AUTH/SET-CAPTCHA-URL\": {\r\n            return {...state, ...action.payload}\r\n\r\n            // return {...state, captchaURL: action.payload.captcha}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type  AuthMainActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"AUTH/SET-USER-DATA\"\r\n    payload: {\r\n        id: null | number\r\n        email: null | string\r\n        login: null | string\r\n        isAuth: boolean\r\n    }\r\n}\r\nexport type SetCaptchaURLActionType = ReturnType<typeof setCaptchaURL>\r\n\r\n\r\nexport type  ActionType = AuthMainActionType | SetCaptchaURLActionType\r\n\r\n\r\nexport const setUserData = (id: number | null, email: null | string, login: null | string, isAuth: boolean): AuthMainActionType => {\r\n    return {\r\n        type: \"AUTH/SET-USER-DATA\",\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n}\r\n\r\nexport const setCaptchaURL = (captchaURL: null | string) => {\r\n    return {\r\n        type: \"AUTH/SET-CAPTCHA-URL\",\r\n        payload: {\r\n            captchaURL\r\n        }\r\n    } as const\r\n}\r\n\r\n\r\n// thunk\r\nexport const getAuthUserData = (): AppThunk => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setUserData(id, email, login, true))\r\n    } /*отправляем полученные данные в стейт*/\r\n\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkAction<void, StateReduxType, unknown, ActionType | FormAction> => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    }\r\n    if (response.data.resultCode === 10) {\r\n        dispatch(getCaptcha())\r\n    }\r\n}\r\n\r\n\r\nexport const getCaptcha = (): AppThunk => async (dispatch) => {\r\n    try {\r\n        const res = await securityAPI.getCaptcha()\r\n        const captchaURL = res.data.url\r\n        dispatch(setCaptchaURL(captchaURL))\r\n    } catch (e) {\r\n        console.log(e)\r\n    } finally {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const loginOut = () => (dispatch: Dispatch) => {\r\n\r\n    authAPI.loginOut()  /*чтобы прееделать в асинк пишем после стрелки async тут делаем переменную и await убираем зен*/\r\n        .then((response) => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserData(null, null, null, false))\r\n            }\r\n        })\r\n\r\n}\r\n\r\n","import {getAuthUserData} from \"./auth-reduсer\";\r\nimport {AppThunk} from \"./redux-store\";\r\n\r\nexport type  initializedActionType = {\r\n    type: \"INITIALIZED-SUCCESSES\"\r\n}\r\n//\r\n\r\n\r\nexport type  AuthMainType = {  /*типизация стейта локального*/\r\n    initialized: boolean,\r\n}\r\n\r\n\r\nexport type  ActionType = initializedActionType\r\n\r\n\r\nlet initialState: AuthMainType = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nexport const appReducer = (state: AuthMainType = initialState, action: ActionType): AuthMainType => {\r\n    switch (action.type) {\r\n\r\n        case \"INITIALIZED-SUCCESSES\": {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = (): initializedActionType => {\r\n    return {\r\n        type: \"INITIALIZED-SUCCESSES\",\r\n    }\r\n}\r\n\r\nexport const initializeApp = (): AppThunk => async (dispatch) => {\r\n    await dispatch(getAuthUserData())\r\n    dispatch(initializedSuccess())\r\n}\r\n\r\n//\r\n// export const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, StateReduxType, unknown, ActionType | FormAction> => (dispatch) => {\r\n//\r\n//     authAPI.login(email, password, rememberMe)\r\n//         .then((response) => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(getAuthUserData())\r\n//             }\r\n//         })\r\n//\r\n// }\r\n//\r\n//\r\n// export const loginOut = () => (dispatch: Dispatch) => {\r\n//\r\n//     authAPI.loginOut()\r\n//         .then((response) => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(setUserData(null, null, null, false))\r\n//             }\r\n//         })\r\n//\r\n// }\r\n\r\n","export type  WebSocketResponseType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\n\r\n\r\nlet wsChanel: WebSocket | null = null\r\n\r\nconst wsHandler = () => {\r\n    setTimeout(createChanel, 3000)\r\n}\r\n\r\n\r\nconst createChanel = () => {\r\n    wsChanel?.removeEventListener(\"close\", wsHandler)\r\n    wsChanel?.close()\r\n    wsChanel = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    wsChanel.addEventListener(\"message\", onMessageHandler)\r\n    wsChanel.addEventListener(\"close\", wsHandler)\r\n}\r\n\r\n\r\nconst onMessageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data)\r\n    subscribers.forEach(s => s(newMessages))\r\n}\r\n\r\n\r\nlet subscribers = [] as Array<(messages: WebSocketResponseType[]) => void>\r\n\r\nexport const chatAPI = {\r\n    start() {\r\n        createChanel()\r\n    },\r\n    stop() {\r\n        wsChanel?.removeEventListener(\"close\", wsHandler)\r\n        wsChanel?.close()\r\n        wsChanel?.removeEventListener(\"message\", onMessageHandler)\r\n        subscribers = []\r\n    },\r\n    subscribe(callback: (messages: WebSocketResponseType[]) => void) {\r\n        subscribers.push(callback)\r\n        return () => {\r\n            subscribers = subscribers.filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(callback: (messages: WebSocketResponseType[]) => void) {\r\n        subscribers = subscribers.filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        wsChanel?.send(message)\r\n    }\r\n}","import {chatAPI, WebSocketResponseType} from \"../Api/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n// export type  initializedActionType = {\r\n//     type: \"INITIALIZED-SUCCESSES\"\r\n// }\r\n//\r\n\r\n\r\nexport type  AuthMainType = {  /*типизация стейта локального*/\r\n    messages: WebSocketResponseType[],\r\n}\r\n\r\n\r\nexport type  ActionType = MessagesReceivedActionType\r\n\r\n\r\nlet initialState: AuthMainType = {\r\n    messages: [] as WebSocketResponseType[]\r\n}\r\n\r\n\r\ntype MessagesReceivedActionType = ReturnType<typeof messagesReceived>\r\n\r\n\r\nexport const chatReducer = (state: AuthMainType = initialState, action: ActionType) => {\r\n    switch (action.type) {\r\n        case \"MESSAGES-RECEIVED\": {\r\n            return {...state, messages: [...state.messages, ...action.payload.messages]}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const messagesReceived = (messages: WebSocketResponseType[]) => {\r\n    return {\r\n        type: \"MESSAGES-RECEIVED\",\r\n        payload: {messages}\r\n    } as const\r\n}\r\n\r\n\r\nconst newMessageHandler = (dispatch: Dispatch) => (message: WebSocketResponseType[]) => {\r\n    dispatch(messagesReceived(message))\r\n}\r\n\r\n\r\nexport const startMessageListening = () => (dispatch: Dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe(newMessageHandler(dispatch))\r\n\r\n}\r\n\r\nexport const stopMessageListening = () => (dispatch: Dispatch) => {\r\n    chatAPI.unsubscribe(newMessageHandler(dispatch))\r\n    chatAPI.stop()\r\n}\r\n\r\nexport const sendMessage = (message: string) => (dispatch: Dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n","import {\r\n    AnyAction,\r\n    applyMiddleware,\r\n    combineReducers,\r\n    compose,\r\n    createStore,\r\n    Store\r\n} from \"redux\";\r\nimport {dialogsReducer} from \"./dialogs-reduсer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport {usersReducer} from \"./users-reduсer\";\r\nimport {authReducer} from \"./auth-reduсer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./app-reduсer\";\r\nimport {chatReducer} from \"./chat-reduсer\";\r\n\r\n\r\nlet reducers = combineReducers({ /*создается общий редьюсер с помощью спец команды, внутрь котор вставляют редюсеры имеющиеся*/\r\n    dialogsPage: dialogsReducer,  /*ключ это элем общий из стейта, значя относящийся к нему релдьюсер*/\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    appReducer: appReducer,\r\n    chatReducer:chatReducer\r\n})\r\n\r\n// const composeEnhancers = window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__'] as typeof compose || compose;\r\nconst composeEnhancers = (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store: Store<StateReduxType> = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport type StateReduxType = ReturnType<typeof reducers>/*скопировал из впервой версии*/\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, StateReduxType, unknown, AnyAction>\r\n\r\n// export let store: Store<StateReduxType> = createStore(reducers) /*это шаблон создания стора*/\r\n// export let store: Store<StateReduxType> = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n// export let store: any = createStore(reducers) /*это шаблон создания стора help*/\r\n\r\n//@ts-ignore\r\nwindow.store = store","export default __webpack_public_path__ + \"static/media/3.b98a8c76.svg\";","import React from 'react';\r\nimport preloader from \"../../img/3.svg\";\r\nimport styles from\"./Preloader.module.css\"\r\n\r\nexport const Preloader =() => {\r\n return (\r\n        <div className={styles.main}>\r\n            <img  className={styles.img} alt={\"preloader\"} src={preloader}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/mountain.ed14195c.jpg\";","import React, {ChangeEvent, KeyboardEvent, useEffect, useState} from 'react';\r\n\r\ntype  StatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\ntype  StatusStateType = {\r\n    status: string\r\n    editMode: boolean\r\n}\r\n\r\n\r\nexport const ProfileStatus = (props: StatusPropsType) => {\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n    const [status, setStatus] = useState<string>(props.status);\r\n\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const onEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const ofEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n\r\n    }\r\n\r\n\r\n    const onStatusKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.charCode === 13) {\r\n            ofEditMode()\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode\r\n                ?\r\n                <div>\r\n                    <span onDoubleClick={onEditMode}>{props.status}</span>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <input onKeyPress={onStatusKeyPress} onChange={onStatusChange}\r\n                           autoFocus={true} onBlur={ofEditMode}\r\n                           value={status}/>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/img.61f53e90.png\";","import styles from \"./ProfileInfo.module.css\";\r\nimport mountains from \"../../../img/mountain.jpg\";\r\nimport React, {ChangeEventHandler} from \"react\";\r\nimport {Preloader} from \"../../preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport userPhoto from \"../../../img/img.png\";\r\n\r\ntype  ProfileInfoPropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n}\r\n\r\nexport const ProfileInfo = (props: ProfileInfoPropsType) => {\r\n    if (!props.profile) {   /*как это влияет на отрисовку профиля?????*/\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    const onInputFileChose: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\r\n        if (e.target.files && e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <img className={styles.img} src={mountains} alt=\"\"/>\r\n            <div className={styles.profile__wrapper}>\r\n                <h2>Name and Description</h2>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n                <img alt={\"some pic\"} className={styles.image}\r\n                     src={props.profile.photos.large || userPhoto}/>\r\n                {props.isOwner && <input type={\"file\"} onChange={onInputFileChose}/>}\r\n                <div><b>About me: {props.profile.aboutMe}</b> </div>\r\n                <div><b>Looking for a job:</b> {!props.profile.lookingForAJob ? \"Yes\" : \"No\"}</div>\r\n                <div><b> My real name is</b>  {props.profile.fullName[0].toUpperCase() + props.profile.fullName.slice(1)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/bird.5ea64365.jpg\";","import React from 'react';\r\nimport styles from \"./Post.module.css\"\r\nimport bird from \"../../../../img/bird.jpg\";\r\n\r\n\r\ntype  PostPropsType = {\r\n    message: string\r\n    likes: number\r\n}\r\n\r\nexport const Post = (props:PostPropsType) => {\r\n    return (\r\n        <div className={styles.post}>\r\n            <img className={styles.img} src={bird} alt=\"\"/>\r\n\r\n            <div className={styles.wrap}>\r\n                <div>{props.message} </div>\r\n                <div>Likes {props.likes}</div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport styles from \"./MyPosts.module.css\"\r\nimport {Post} from \"./Post/Post\";\r\nimport {PostsType} from \"../../../redux/profile-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../FormsControls/Textarea\";\r\n\r\ntype  MyPostsPropsType = {\r\n    posts: Array<PostsType>\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\ntype  FormType = {\r\n    newPostText: string\r\n}\r\n\r\nlet maxLength = maxLengthCreator(15)\r\n\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    const onAddPost = (values: FormType) => {\r\n        if (values) {\r\n            props.addPost(values.newPostText)\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.posts}>\r\n            <div className={styles.main}>\r\n                <h2>My Posts</h2>\r\n                <AddNewPostForm onSubmit={onAddPost}/>\r\n            </div>\r\n            {props.posts.map((t, index) => <Post key={index} message={t.message} likes={t.likesCount}/>)}\r\n        </div>\r\n    );\r\n});\r\n\r\nconst AddNewPost = (props: InjectedFormProps<FormType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={\"newPostText\"} component={Textarea} validate={[required, maxLength]} placeholder={\"Post message\"}/>\r\n            </div>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostForm = reduxForm<FormType>({form: \"ProfileAddNewPost\"})(AddNewPost)","import {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport {Dispatch} from \"redux\";\r\nimport {StateReduxType} from \"../../../redux/redux-store\";\r\n\r\n\r\nexport const mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        // newPostText: state.profilePage.newPostText\r\n\r\n    }\r\n}\r\nexport const mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n\r\n}\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)/*коннект имеет локальный субскрайб*/","import React from 'react';\r\nimport styles from \"./Profile.module.css\"\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\n\r\ntype  ProfilePropsType = {\r\n   // profilePage: ProfilePageType\r\n    // addPost: () => void\r\n    // updateNewPostText: (newText: string) => void\r\n    //dispatch: (action: ActionsType) => void\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: any) => void\r\n}\r\n\r\n\r\n\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n\r\n\r\n    return (\r\n        <div className={styles.profile}>\r\n            <ProfileInfo savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport styles from \"./Profile.module.css\"\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    ProfileType, savePhoto,\r\n    updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\ntype  ProfileContainerPropsType = {\r\n    // setUserProfile: (profile: ProfileType) => void\r\n    profile: null | ProfileType\r\n    getUserProfile: (userID: string) => void\r\n    getStatus: (userID: string) => void\r\n    updateStatus: (status: string) => void\r\n    status: string\r\n    savePhoto: (file: any) => void\r\n}\r\ntype  PropsType = RouteComponentProps<PathType> & ProfileContainerPropsType  /*типизация пришедшего пути браузера*/\r\ntype  PathType = {\r\n    userId: string\r\n}\r\n\r\nclass ProfileContainer extends React.Component <PropsType, StateReduxType> {\r\n\r\n    refreshProfile() {\r\n        let userID = this.props.match.params.userId\r\n        if (!userID) {\r\n            userID = \"19115\"\r\n            if (!userID) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userID)\r\n        this.props.getStatus(userID)\r\n    }\r\n\r\n\r\n    componentDidMount() {   /*метод жизненного цикла, тут все запросы на сервер*/\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<StateReduxType>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.profile}>\r\n                <Profile {...this.props} profile={this.props.profile}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}\r\n                         savePhoto={this.props.savePhoto}\r\n                /> {/*все пришедшие пропсы прокидываю дальше*/}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n// let AuthRedirectComponent = WithAuthRedirect(ProfileContainer)\r\n\r\n\r\nlet mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status\r\n    }\r\n}\r\n\r\n\r\n// let ProfileWithUrl = withRouter(AuthRedirectComponent)\r\n// export default connect(mapStateToProps, {getUserProfile})(ProfileWithUrl)\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus,  savePhoto}),\r\n    withRouter,\r\n    // WithAuthRedirect\r\n)(ProfileContainer)","import styles from \"./Textarea.module.css\";\r\nimport React from \"react\";\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Input = ({input, meta, ...props}: WrappedFieldProps) => {\r\n\r\n    return (\r\n        <div className={`${styles.formControl} ${meta.touched && meta.error ? styles.error : \"\"}`}>\r\n            <div><input {...input} {...props} /></div>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../FormsControls/Input\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {login} from \"../../redux/auth-reduсer\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captchaURL: string | null\r\n    captcha: string\r\n\r\n}\r\n// type MSTP = {\r\n//     isAuth: boolean\r\n//     captchaURL: string | null\r\n// }\r\n// type MDTP = {\r\n//     login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n// }\r\n// type LoginPropsType = MSTP & MDTP\r\n// type LoginPropsType = MDTP\r\n\r\n// interface LoginFormProps extends InjectedFormProps<FormDataType> {\r\n//     captchaURL: string | null\r\n// }\r\n\r\nconst LoginForm = ({handleSubmit, initialValues}: InjectedFormProps<FormDataType>) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div><Field placeholder={\"Login\"} name={\"email\"} validate={[required]}\r\n                        component={Input}/></div>\r\n            <div><Field placeholder={\"Password\"} validate={[required]} type={\"password\"}\r\n                        name={\"password\"}\r\n                        component={Input}/></div>\r\n            <div><Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/>Remember\r\n                Me\r\n            </div>\r\n            {initialValues.captchaURL &&\r\n            <img alt={\"capture\"} src={initialValues.captchaURL}/>}\r\n            {initialValues.captchaURL &&\r\n            <Field placeholder={\"Type text from captcha\"} component={Input}\r\n                   validate={[required]} name={\"captcha\"} type={\"input\"}/>}\r\n\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm<FormDataType>({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nexport const Login = () => {       /*какие пропсы\r\n типизация*/\r\n\r\n\r\n    const captchaURL = useSelector<StateReduxType, string | null>(state => state.auth.captchaURL)\r\n    const isAuth = useSelector<StateReduxType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n        // login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginFormRedux onSubmit={onSubmit} initialValues={{captchaURL}}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n// const mapStateToProps = (state: StateReduxType): MSTP => ({\r\n//     captchaURL: state.auth.captchaURL,\r\n//     isAuth: state.auth.isAuth\r\n// })\r\n// export default connect<MDTP, {}, StateReduxType>(null, {login})(Login)","import React from 'react';\r\nimport styles from \"./News.module.css\"\r\n\r\n\r\nexport const News = React.memo(() => {\r\n    return (\r\n        <div>\r\n            <h2 className={styles.title}>News</h2>\r\n            <div className={styles.body}></div>\r\n        </div>\r\n    );\r\n});\r\n\r\n","import React from 'react';\r\nimport styles from \"./Music.module.css\"\r\n\r\n\r\nexport const Music = React.memo(() => {\r\n    return (\r\n        <div>\r\n            <h2 className={styles.title}>Music</h2>\r\n            <div className={styles.body}></div>\r\n        </div>\r\n    );\r\n});\r\n\r\n","export default __webpack_public_path__ + \"static/media/neand.5e875fa6.png\";","import React, {useState} from 'react';\r\nimport styles from \"./Users.module.css\";\r\n\r\ntype  UsersNewPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    OnPageHandler: (pageNumber: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Paginator = ({\r\n                              totalUsersCount,\r\n                              pageSize,\r\n                              currentPage,\r\n                              OnPageHandler,\r\n                              portionSize = 10\r\n                          }: UsersNewPropsType) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)/* Math.ceil округляет число в большую сторону*/\r\n    let pages: Array<number> = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState<number>(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.pagination_wrapper}>\r\n                {portionNumber > 1 &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>PREV</button>}\r\n                {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((t) => {\r\n                    return <span key={t}\r\n                                 className={currentPage === t ? styles.selectedPage : \"\"}\r\n                                 onClick={() => {\r\n                                     OnPageHandler(t)\r\n                                 }}>{t}</span>\r\n                })}\r\n                {portionCount > portionNumber &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>NEXT</button>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {FilterType} from \"../../redux/users-reduсer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\ntype  UsersSearchFormPropsType = {\r\n    OnFilterHandler: (filter: FilterType) => void\r\n}\r\n\r\n\r\ntype  FormType = {\r\n    term: string\r\n    friend: \"true\" | \"false\" | \"null\"\r\n}\r\n\r\nexport const UsersSearchForm = React.memo((props: UsersSearchFormPropsType) => {\r\n\r\n    const filter = useSelector<StateReduxType, FilterType>(state => state.usersPage.filter)\r\n\r\n\r\n    // const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n    //     const filter: FilterType = {\r\n    //         term: values.term,\r\n    //         friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n    //     }\r\n    //\r\n    //\r\n    //     props.OnFilterHandler(filter)\r\n    //     setSubmitting(false)\r\n    // }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Formik\r\n                enableReinitialize={true}\r\n                initialValues={{term: filter.term, friend: String(filter.friend)}}\r\n                validate={values => {\r\n                    const errors = {};\r\n                    return errors;\r\n                }}\r\n                onSubmit={(values, {setSubmitting}) => {\r\n                    const filter: FilterType = {\r\n                        term: values.term,\r\n                        // friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n                        friend: values.friend === \"null\" ? null : values.friend === \"true\"\r\n                    }\r\n                    props.OnFilterHandler(filter)\r\n                    setSubmitting(false)\r\n                }}\r\n            >\r\n                {({isSubmitting}) => (\r\n                    <Form>\r\n                        <Field type=\"text\" name=\"term\"/> {/*имя согласовывается с\r\n                         initialValues*/}\r\n                        <Field name=\"friend\" as=\"select\">\r\n                            <option value=\"null\">All</option>\r\n                            <option value=\"true\">Only Followed</option>\r\n                            <option value=\"false\">UnFollowed</option>\r\n                        </Field>\r\n\r\n\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            Find\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n})","import {StateReduxType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UsersType} from \"./users-reduсer\";\r\n\r\nexport const getUsers = (state: StateReduxType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users: Array<UsersType>) => {\r\n    return users.map((user) => user)\r\n})\r\n\r\n// export const getUsersSuper = createSelector(getUsers, getPageSize (users: Array<UsersType>, pageSize: number) => {\r\n//     return users.map((user) => true)\r\n// })\r\n\r\n\r\nexport const getPageSize = (state: StateReduxType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: StateReduxType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: StateReduxType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: StateReduxType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state: StateReduxType) => {\r\n    return state.usersPage.followingProgress\r\n}\r\n\r\nexport const getUserFilter= (state: StateReduxType) => {\r\n    return state.usersPage.filter\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport image from \"../../img/neand.png\";\r\nimport {\r\n    FilterType,\r\n    follow,\r\n    getUsersThunkCreator,\r\n    unfollow,\r\n    UsersType\r\n} from \"../../redux/users-reduсer\";\r\nimport {NavLink, useHistory} from 'react-router-dom';\r\nimport {Paginator} from \"./Paginator\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\nimport {getCurrentPage, getPageSize} from \"../../redux/users-selectors\";\r\nimport * as queryString from \"querystring\";\r\n\r\ntype  parsedType = {\r\n    term: string\r\n    page: string\r\n    friend: string\r\n}\r\n\r\n\r\nexport const Users = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const totalUsersCount = useSelector<StateReduxType, number>(state => state.usersPage.totalUsersCount)\r\n    const currentPage = useSelector<StateReduxType, number>(getCurrentPage)\r\n    const pageSize = useSelector<StateReduxType, number>(getPageSize)\r\n    const filter = useSelector<StateReduxType, FilterType>(state => state.usersPage.filter)\r\n    const users = useSelector<StateReduxType, Array<UsersType>>(state => state.usersPage.users)\r\n    const followingInProgress = useSelector<StateReduxType, Array<number>>(state => state.usersPage.followingProgress)\r\n\r\n    useEffect(() => {\r\n\r\n        const {search} = history.location\r\n        const parsed = queryString.parse(search.substr(1)) as parsedType\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsed.page) actualPage = +parsed.page\r\n        if (!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n        // if (!!parsed.friend) actualFilter = {...actualFilter, friend: parsed.friend ===\"null\" ? null : parsed.friend===\"true\" ? true : false }\r\n        if (!!parsed.friend) actualFilter = {\r\n            ...actualFilter,\r\n            friend: parsed.friend === \"null\" ? null : parsed.friend === \"true\"\r\n        }\r\n\r\n\r\n        dispatch(getUsersThunkCreator(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        history.push({\r\n            pathname: \"/users\",\r\n            search: `?term=${filter.term}&friend=${filter.friend}&page=${currentPage}`\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n\r\n    const OnClickPageHandler = (pageNumber: number) => {\r\n        dispatch(getUsersThunkCreator(pageNumber, pageSize, filter))\r\n    }\r\n\r\n    const OnFilterHandler = (filter: FilterType) => {\r\n        dispatch(getUsersThunkCreator(1, pageSize, filter))\r\n    }\r\n\r\n    const followUser = (userID: number) => {\r\n        dispatch(follow(userID))\r\n    }\r\n\r\n\r\n    const unfollowUser = (userID: number) => {\r\n        dispatch(unfollow(userID))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n\r\n            <UsersSearchForm OnFilterHandler={OnFilterHandler}/>\r\n\r\n            <Paginator currentPage={currentPage}\r\n                       OnPageHandler={OnClickPageHandler}\r\n                       totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                       portionSize={10}\r\n            />\r\n\r\n            {users.map((u) => {\r\n                    return <div className={styles.item} key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={\"/profile/\" + u.id}>\r\n                        <img className={styles.image}\r\n                             src={u.photos.small !== null ? u.photos.small : image}\r\n                             alt=\"\"/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={styles.follow}> {u.followed\r\n                        ?\r\n                        <button\r\n                            disabled={followingInProgress.some((t) => t === u.id)}\r\n                            onClick={() => {\r\n                                unfollowUser(u.id)\r\n                            }}>Unfollow</button>\r\n                        :\r\n                        <button\r\n                            disabled={followingInProgress.some((t) => t === u.id)}\r\n                            onClick={() => {\r\n                                followUser(u.id)\r\n                            }}\r\n                        >Follow</button>}\r\n                    </div>\r\n                      <span>\r\n                            <div className={styles.wrap}>\r\n                    <span className={styles.desc}>Name</span> <div\r\n                                className={styles.name}>{u.name}</div>\r\n\r\n                    </div>\r\n\r\n                </span>\r\n                </span>\r\n\r\n                    </div>\r\n                }\r\n            )\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../preloader/Preloader\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\n\r\nexport const UsersContainer = React.memo(() => {\r\n\r\n    const isFetching = useSelector<StateReduxType, boolean>(state => state.usersPage.isFetching)\r\n\r\n\r\n    return (\r\n        <>\r\n            {isFetching ? <Preloader/> : null}\r\n            <Users/>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {Avatar, Button, Col, Layout, Menu, Row} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\nimport {loginOut} from \"../../redux/auth-reduсer\";\r\n\r\n\r\nexport const Header = () => {\r\n\r\n    const isAuth = useSelector<StateReduxType, boolean>(state => state.auth.isAuth)\r\n    const login = useSelector<StateReduxType, null | string>(state => state.auth.login)\r\n    const dispatch = useDispatch()\r\n\r\n    const loginOutCallback = () => {\r\n        dispatch(loginOut())\r\n    }\r\n\r\n    const {Header} = Layout;\r\n\r\n\r\n    return (\r\n        <Header className=\"header\">\r\n            <div className=\"logo\"/>\r\n            <Row>\r\n                <Col span={18}>\r\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                        <Menu.Item key=\"1\"><NavLink to=\"/users\">Users</NavLink></Menu.Item>\r\n                    </Menu>\r\n                </Col>\r\n                {isAuth\r\n                    ? <> <Col span={1}>\r\n                        <Avatar alt={login || \"\"} style={{backgroundColor: '#87d068'}}\r\n                                icon={<UserOutlined/>}/>\r\n                    </Col>\r\n                        <Col span={5}>\r\n                            <Button onClick={loginOutCallback}>Log out</Button>\r\n                        </Col>\r\n                    </>\r\n                    : <Col span={6}>\r\n                        <Button>\r\n                            <NavLink to=\"/login\">Login</NavLink>\r\n                        </Button>\r\n                    </Col>\r\n                }\r\n            </Row>\r\n\r\n\r\n        </Header>\r\n\r\n\r\n        // <header className={styles.header}>\r\n        //     <img className={styles.img} src={dragon} alt=\"\"/>\r\n        //     <div className={styles.auth}>\r\n        //         {props.isAuth ? <div>{props.login} <button onClick={props.loginOut}>Log out</button></div> :\r\n        //             <NavLink to=\"/login\">Login</NavLink>}\r\n        //     </div>\r\n        // </header>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport { WebSocketResponseType } from \"./ChatPage\";\r\nimport styles from \"./Message.module.css\";\r\n\r\n\r\ntype  MessagePropsType = {\r\n    messageData:  WebSocketResponseType\r\n}\r\n\r\n\r\nexport const Message = React.memo(( {messageData}:MessagePropsType ) => {\r\n\r\n\r\n const {message,  photo,   userId, userName} = messageData\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.info}>\r\n                <img className={styles.image} src={photo} alt={\"ava\"}/>\r\n                <div className={styles.author}>{userName}</div>\r\n            </div>\r\n            <div className={styles.block}>\r\n                <div className={styles.message}>{message}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n});","import React, {useEffect, useState} from 'react';\r\nimport {Message} from \"./Message\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {sendMessage, startMessageListening, stopMessageListening} from \"../../redux/chat-reduсer\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\nexport type  WebSocketResponseType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\n\r\n\r\nexport const ChatPage = React.memo(() => {\r\n    return (\r\n        <>\r\n            < Chat/>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\nexport const Chat = React.memo(() => {\r\n\r\n    // const [ws, setWs] = useState<WebSocket | null>(null);\r\n\r\n    // useEffect(() => {\r\n    //     let wsChanel: WebSocket\r\n    //\r\n    //     const wsHandler = () => {\r\n    //         setTimeout(createChanel, 3000)\r\n    //     }\r\n    //\r\n    //\r\n    //     const createChanel = () => {\r\n    //         if (wsChanel) {\r\n    //             wsChanel.removeEventListener(\"close\", wsHandler)\r\n    //             wsChanel.close()\r\n    //         }\r\n    //\r\n    //         wsChanel = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    //         wsChanel.addEventListener(\"close\", wsHandler)\r\n    //\r\n    //         setWs(wsChanel)\r\n    //     }\r\n    //\r\n    //     createChanel();\r\n    //\r\n    //     return () => {\r\n    //         wsChanel.removeEventListener(\"close\", wsHandler)\r\n    //         wsChanel.close()\r\n    //     }\r\n    // }, []);\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(startMessageListening())\r\n        return () => {\r\n            dispatch(stopMessageListening())\r\n        }\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Messages/>\r\n            <MessagesForm/>\r\n        </>\r\n    );\r\n});\r\n\r\n\r\ntype  MessagesAndMessagesFormPropsType = {\r\n    ws: WebSocket | null\r\n}\r\n\r\nexport const Messages = React.memo(() => {\r\n    const messages = useSelector<StateReduxType, WebSocketResponseType[]>(state => state.chatReducer.messages)\r\n\r\n\r\n    // useEffect(() => {\r\n    //     const onMessageHandler = (e: MessageEvent) => {\r\n    //         setMessages((prev) => [...prev, ...JSON.parse(e.data)]);\r\n    //     }\r\n    //\r\n    //     ws && ws.addEventListener(\"message\", onMessageHandler)\r\n    //     return () => {\r\n    //         ws?.removeEventListener(\"message\", onMessageHandler)\r\n    //     }\r\n    // }, [ws])\r\n\r\n\r\n    return (\r\n        <div style={{height: \"500px\", overflowY: \"auto\"}}>\r\n            {messages.map((message, index: number) => <Message messageData={message} key={index}/>)}\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\nexport const MessagesForm = React.memo(() => {\r\n    const [message, setMessage] = useState<string>(\"\");\r\n    const [isReady, setIsReady] = useState<\"pending\" | \"ready\">(\"pending\");\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    // useEffect(() => {\r\n    //\r\n    //     const openHandler = () => {\r\n    //         setIsReady(\"ready\")\r\n    //     }\r\n    //     ws && ws.addEventListener(\"open\", openHandler)\r\n    //     return () => {\r\n    //         ws?.removeEventListener(\"open\", openHandler)\r\n    //     }\r\n    // }, [ws])\r\n\r\n\r\n    const sendMessageHandler = () => {\r\n        if (!message) {\r\n            return\r\n        }\r\n        dispatch(sendMessage(message))\r\n        setMessage(\"\")\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div><textarea onChange={(e) => setMessage(e.currentTarget.value)} value={message}/></div>\r\n            <button  onClick={sendMessageHandler}>Send</button>\r\n        </>\r\n    );\r\n});","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reduсer\";\r\nimport {StateReduxType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./components/preloader/Preloader\";\r\nimport {NavLink, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\n\r\n\r\nimport {Layout, Menu} from 'antd';\r\nimport {LaptopOutlined, UserOutlined} from '@ant-design/icons';\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {Login} from \"./components/Login/Login\";\r\n\r\nimport {News} from './components/News/News';\r\nimport {Music} from './components/Music/Music';\r\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\r\nimport {Header} from \"./components/Header/Header\";\r\nimport {ChatPage} from \"./pages/Chat/ChatPage\";\r\n\r\n\r\nconst {SubMenu} = Menu;\r\nconst {Content, Footer, Sider} = Layout;\r\n\r\n\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));/*ленивая загрузка компоненты*/\r\n\r\n\r\ntype AppPropsType = {\r\n    initializeApp: () => void\r\n    initialized: boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n\r\n    componentDidMount() {   /*метод жизненного цикла, тут все зхапосы на сервер*/\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <Layout className={\"App\"}>\r\n                <Header/>\r\n                <Content style={{padding: '0 50px'}}>\r\n                    {/*<Breadcrumb style={{margin: '16px 0'}}>*/}\r\n                    {/*    <Breadcrumb.Item>Home</Breadcrumb.Item>*/}\r\n                    {/*    <Breadcrumb.Item>List</Breadcrumb.Item>*/}\r\n                    {/*    <Breadcrumb.Item>App</Breadcrumb.Item>*/}\r\n                    {/*</Breadcrumb>*/}\r\n                    <Layout className=\"site-layout-background\"\r\n                            style={{padding: '24px 0'}}>\r\n                        <Sider className=\"site-layout-background\" width={200}>\r\n                            <Menu\r\n                                mode=\"inline\"\r\n                                // defaultSelectedKeys={['1']}\r\n                                defaultOpenKeys={['sub1']}\r\n                                style={{height: '100%'}}\r\n                            >\r\n\r\n                                {/*<div><NavLink activeClassName={styles.active} to=\"/profile\">Profile</NavLink></div>*/}\r\n                                {/*<div><NavLink activeClassName={styles.active} to=\"/dialogs\">Dialogs</NavLink></div>*/}\r\n                                {/*<div><NavLink activeClassName={styles.active} to=\"/news\">News</NavLink></div>*/}\r\n                                {/*<div><NavLink activeClassName={styles.active} to=\"/music\">Music</NavLink></div>*/}\r\n\r\n\r\n                                <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"My Profile\">\r\n                                    <Menu.Item key=\"1\"><NavLink to=\"/profile\">Profile</NavLink></Menu.Item>\r\n                                    <Menu.Item key=\"2\"><NavLink to=\"/dialogs\">Dialogs</NavLink></Menu.Item>\r\n                                    <Menu.Item key=\"3\"><NavLink to=\"/news\">News</NavLink></Menu.Item>\r\n                                    <Menu.Item key=\"4\"><NavLink to=\"/music\">Music</NavLink></Menu.Item>\r\n\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Users\">\r\n                                    <Menu.Item key=\"5\"><NavLink to=\"/users\">Users</NavLink></Menu.Item>\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub3\" icon={<LaptopOutlined/>} title=\"ChatPage\">\r\n                                    <Menu.Item key=\"6\"><NavLink to=\"/chat\">ChatPage</NavLink></Menu.Item>\r\n                                </SubMenu>\r\n                            </Menu>\r\n                        </Sider>\r\n                        <Content style={{padding: '0 24px', minHeight: 280}}>\r\n                            <Switch>\r\n                                <Route exact path=\"/\"\r\n                                       render={() => <Redirect to=\"/profile\"/>}/>\r\n\r\n                                {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.getState().dialogsPage}/>}/>*/}\r\n                                <Route path=\"/dialogs\"\r\n                                       render={() => <Suspense\r\n                                           fallback={<div>Loading...</div>}>\r\n                                           <DialogsContainer/></Suspense>}/>\r\n                                {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.dialogsPage}*/}\r\n                                <Route path=\"/profile/:userId?\"\r\n                                       render={() =>\r\n                                           <ProfileContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                                <Route path=\"/users\" render={() =>\r\n                                    <UsersContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                                <Route path=\"/login\" render={() =>\r\n                                    <Login/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                                <Route path=\"/news\" render={() =>\r\n                                    <News/>}/>\r\n                                <Route path=\"/music\" render={() =>\r\n                                    <Music/>}/>\r\n                                <Route path=\"/chat\" render={() =>\r\n                                    <ChatPage/>}/>\r\n                                <Route path=\"*\" render={() =>\r\n                                    <div>Page not found</div>}/>\r\n                            </Switch>\r\n                        </Content>\r\n                    </Layout>\r\n                </Content>\r\n                <Footer style={{textAlign: 'center'}}>Pacavaca Design</Footer>\r\n            </Layout>\r\n\r\n\r\n\r\n\r\n\r\n            // <div className=\"App\">\r\n            //     <HeaderContainer/>\r\n            //     {/*<Navbar state={props.store.sidebar}/>*/}\r\n            //     <Navbar/>\r\n            //     <div className={\"profile\"}>\r\n            //         <Switch>\r\n            //             <Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>}/>\r\n            //\r\n            //             {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.getState().dialogsPage}/>}/>*/}\r\n            //             <Route path=\"/dialogs\"\r\n            //                    render={() => <Suspense fallback={<div>Loading...</div>}>\r\n            //                        <DialogsContainer/></Suspense>}/>\r\n            //             {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.dialogsPage}*/}\r\n            //             <Route path=\"/profile/:userId?\"\r\n            //                    render={() =>\r\n            //                        <ProfileContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n            //             <Route path=\"/users\" render={() =>\r\n            //                 <UsersContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n            //             <Route path=\"/login\" render={() =>\r\n            //                 <Login/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n            //             <Route path=\"/news\" render={() =>\r\n            //                 <News/>}/>\r\n            //             <Route path=\"/music\" render={() =>\r\n            //                 <Music/>}/>\r\n            //         </Switch>\r\n            //         {/*<Dialogs/>*/}\r\n            //         {/*<Profile/>*/}\r\n            //     </div>\r\n            // </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateReduxType): MapStateToPropsType => {\r\n    return {\r\n        initialized: state.appReducer.initialized\r\n    }\r\n}\r\n\r\n\r\ntype  MapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\ntype  MapDispatchToProps = {\r\n    initializeApp: () => void\r\n}\r\n\r\ntype  OwnProps = {}\r\n\r\nexport default compose<React.ComponentType>(withRouter, connect<MapStateToPropsType, MapDispatchToProps, OwnProps, StateReduxType>(mapStateToProps, {initializeApp}))(App)\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport './index.css';\r\nimport {store} from \"./redux/redux-store\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Provider} from 'react-redux';\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n\r\nReactDOM.render(\r\n        <HashRouter>\r\n            <Provider store={store}>{/*позволяет стор  засунуть в контектс*/}\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Users_main__pqh2t\",\"image\":\"Users_image__10RV9\",\"pagination_wrapper\":\"Users_pagination_wrapper__2wLc9\",\"selectedPage\":\"Users_selectedPage__ohqD6\",\"desc\":\"Users_desc__3xwRZ\",\"name\":\"Users_name__2HBzu\",\"wrap\":\"Users_wrap__KN6ow\",\"follow\":\"Users_follow__2ZzmM\",\"item\":\"Users_item__3-SSA\"};","export const required: any = (value: any) => {\r\n    return value ? undefined : \"Field is required\"\r\n}\r\n\r\n\r\n\r\n\r\nexport const maxLengthCreator  = (maxLength: number) => (value: any): any=> {\r\n    return value && value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined\r\n\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Message_image__nf1Sl\",\"wrapper\":\"Message_wrapper__2jrxo\",\"message\":\"Message_message__1Vebs\",\"author\":\"Message_author__3G6Yj\",\"info\":\"Message_info__17MWL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Textarea_formControl__50Apl\",\"error\":\"Textarea_error__2O4Pd\"};"],"sourceRoot":""}