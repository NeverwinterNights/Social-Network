{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogsItem/DialogsItem.module.css","redux/dialogs-reduсer.ts","Api/Api.ts","redux/profile-reducer.ts","redux/sidebar-reducer.ts","redux/users-reduсer.ts","redux/auth-reduсer.ts","redux/app-reduсer.ts","redux/redux-store.ts","components/Friends/Friend/Friend.tsx","components/Friends/Friends.tsx","components/Navbar/Navbar.tsx","img/neand.png","components/Users/Users.tsx","img/3.svg","components/preloader/Preloader.tsx","HOC/withAuthRedirect.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","img/mountain.jpg","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","img/bird.jpg","components/Profile/MyPosts/Post/Post.tsx","utils/validators/validators.ts","components/FormsControls/Textarea.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","img/dragon.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/FormsControls/Input.tsx","components/Login/Login.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogsItem/DialogsItem.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Friends/Friends.module.css","components/Navbar/Navbar.module.css","components/FormsControls/Textarea.module.css","components/Users/User.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css","components/Dialogs/Dialogs.module.css","components/preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css"],"names":["module","exports","initialState","dialogs","id","name","messages","message","instance","axios","create","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","get","then","response","data","userID","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","email","password","rememberMe","post","delete","posts","likesCount","profile","setStatus","type","friends","users","totalUsersCount","isFetching","followingProgress","followSuccess","unFollowSuccess","setUsers","setCurrentPage","setPreloader","setFollowingInProgress","login","isAuth","setUserData","payload","getAuthUserData","dispatch","resultCode","initialized","reducers","combineReducers","dialogsPage","state","action","stateCopy","body","newMessageBody","push","profilePage","newPostText","sidebar","usersPage","map","u","followed","totalCount","filter","t","auth","form","formReducer","appReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Friend","props","className","styles","item","images","image","src","alt","Friends","main","row","names","index","Navbar","nav","menu","activeClassName","active","to","href","getState","Users","pagesCount","Math","ceil","pages","i","pagination_wrapper","selectedPage","onClick","OnClickPageHandler","photos","small","disabled","followingInProgress","some","unfollow","follow","Preloader","img","preloader","mapStateToPropsForRedirect","WithAuthRedirect","Component","connect","restProps","getUsersSuper","createSelector","user","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainer","pageNumber","getUsers","this","unFollow","React","compose","items","ProfileStatus","useState","editMode","setEditMode","useEffect","ofEditMode","onKeyPress","e","charCode","onChange","currentTarget","value","autoFocus","onBlur","onDoubleClick","ProfileInfo","mountains","large","aboutMe","lookingForAJobDescription","fullName","Post","bird","wrap","likes","required","undefined","maxLengthCreator","maxLength","length","Textarea","input","meta","formControl","touched","error","MyPosts","memo","AddNewPostForm","onSubmit","values","addPost","reduxForm","handleSubmit","Field","component","validate","placeholder","MyPostsContainer","addPostActionCreator","Profile","ProfileContainer","match","params","userId","history","getUserProfile","withRouter","Header","header","dragon","loginOut","HeaderContainer","Input","LoginFormRedux","formData","Message","DialogsItem","dialog","maxLength50","AddMessageFormDialog","sendMessage","SendMessageActionCreator","App","initializeApp","exact","path","render","DialogsContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2490c306.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ProfileInfo_img__2lCOw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Message_main__1xDAO\",\"dialogs\":\"Message_dialogs__256Ta\",\"dialog\":\"Message_dialog__1QWPf\",\"active\":\"Message_active__2HtPS\",\"message\":\"Message_message__2OemR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"DialogsItem_main__1Du3v\",\"dialogs\":\"DialogsItem_dialogs__3HVJ2\",\"dialog\":\"DialogsItem_dialog__3OiEX\",\"active\":\"DialogsItem_active__24LO9\",\"message\":\"DialogsItem_message__iR8I0\"};","import {DialogsType, MessagesType} from \"./store\";\r\n\r\n\r\nexport type  DialogsPageType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n\r\n}\r\n\r\n\r\nexport type  SendMessageActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SEND-MESSAGE\"\r\n    newMessageBody:string\r\n}\r\n\r\n\r\n// export const updateNewPostBodyActionCreator = (body: string): UpdateNewPostBodyActionType => {\r\n//     return {\r\n//         type: \"UPDATE-NEW-POST-BODY\",\r\n//         body: body\r\n//     }\r\n// }\r\n\r\nexport const SendMessageActionCreator = (newMessageBody:string): SendMessageActionType => {\r\n    return {\r\n        type: \"SEND-MESSAGE\",\r\n        newMessageBody\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Ivan\"},\r\n        {id: 2, name: \"Oleg\"},\r\n        {id: 3, name: \"Misha\"},\r\n        {id: 4, name: \"Petr\"},\r\n        {id: 5, name: \"Alex\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Privet\"},\r\n        {id: 2, message: \"How are you\"},\r\n        {id: 3, message: \"Lets we meet\"},\r\n        {id: 4, message: \"No\"},\r\n    ],\r\n   }\r\n\r\n\r\nexport const dialogsReducer = (state: DialogsPageType = initialState, action: SendMessageActionType) => {\r\n    switch (action.type) {\r\n        // case \"UPDATE-NEW-POST-BODY\": {\r\n        //     let stateCopy = {...state} /*делается копия для правильного изменения стейта*/\r\n        //     action.newMessageBody = action.body /* была параметр ф, а теперь мы берем его из экшена*/\r\n        //     return stateCopy\r\n        // }\r\n        case \"SEND-MESSAGE\": {\r\n            let stateCopy = {...state, messages: [...state.messages]}/* делается глубокая копия стейта и мессаджес в стейте*/\r\n            let body = action.newMessageBody/* была параметр ф, а теперь мы берем его из экшена*/\r\n\r\n\r\n            stateCopy.messages.push({id: 5, message: body})\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"7c38f700-eae7-4224-81a9-9392ebf67fbb\"\r\n    }\r\n})\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)  /*приклеиваем сюда baseURL и продолжение адерса*/\r\n            .then(response => response.data) /*уменьшаем получаемый респонс*/\r\n    },\r\n    follow(userID: number) {\r\n        return instance.post(`follow/${userID}`)\r\n    },\r\n    unfollow(userID: number) {\r\n        return instance.delete(`follow/${userID}`)\r\n    },\r\n    getProfile(userID: string) {\r\n        return profileAPI.getProfile(userID)\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userID: string) {\r\n        return instance.get(`profile/` + userID)\r\n    },\r\n    getStatus(userID: string) {\r\n        return instance.get(`profile/status/` + userID)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status})\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    loginOut() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {profileAPI, userAPI} from \"../Api/Api\";\r\n\r\nexport  type  PostsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\n\r\nexport type ProfileType = {\r\n    photos: PhotosType\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n}\r\ntype PhotosType = {\r\n    'small': string\r\n    'large': string\r\n}\r\ntype  ContactsType = {\r\n    facebook: string\r\n    website: null\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: null\r\n    github: string\r\n    mainLink: null\r\n}\r\n\r\n\r\nexport type  ProfilePageType = {\r\n    status: string;\r\n    posts: Array<PostsType>\r\n    profile: null | ProfileType\r\n}\r\n\r\nexport type  AddPostActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"ADD-POST\"\r\n    newPostText: string\r\n}\r\n\r\n\r\n// export type  UpdateNewPostActionType = { /*необходимо для типизации диспатчка*/\r\n//     type: \"UPDATE-NEW-POST-TEXT\"\r\n//     newText: string\r\n// }\r\n\r\n\r\nexport type  SetUserProfileActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-USER-PROFILE\"\r\n    profile: null | ProfileType\r\n\r\n}\r\n\r\nexport type  setStatusActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-STATUS\"\r\n    status: string\r\n\r\n}\r\n\r\n\r\nexport type  ActionsType =\r\n    AddPostActionType\r\n    | SetUserProfileActionType\r\n    | setStatusActionType\r\n\r\n\r\n/*Создаем инициализационный стейт для profileReducer*/\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hello\", likesCount: 8},\r\n        {id: 2, message: \"How are you?\", likesCount: 15},\r\n        {id: 3, message: \"Where are you?\", likesCount: 50},\r\n        {id: 4, message: \"Fuck You\", likesCount: 5},\r\n\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ActionsType): ProfilePageType => { /*указываем стейту инициализационное значение*/\r\n    switch (action.type) {\r\n        case \"SET-STATUS\": {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case \"ADD-POST\": {\r\n            // let newPost: PostsType = {\r\n            //     id: 5,\r\n            //     message: state.newPostText,\r\n            //     likesCount: 0\r\n            // }\r\n            return {\r\n                ...state,\r\n                posts: [{id: 5, message: action.newPostText, likesCount: 0}, ...state.posts],\r\n            } /*делается копия для правильного изменения стейта*/\r\n\r\n            // stateCopy.posts.unshift(newPost) /*стейт тут приходит в пропсах это this._state.profilePage*/\r\n            // stateCopy.newPostText = \"\"\r\n            // return stateCopy\r\n            // break; /*брейк можно заменить ретурн стейт в каждом кейсе*/\r\n        }\r\n        case \"SET-USER-PROFILE\": {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostText:string): AddPostActionType => {\r\n    return {\r\n        type: \"ADD-POST\",\r\n        newPostText\r\n    }\r\n}\r\n/*ф. возвращающая экшен, ее вызывают в компоненте в диспатче\r\nи прокидывают в параметрах данные сюда. АК экспорт. его не надо прокидывать пропсами props.dispatch (updateNewPostActionCreator(text)) */\r\n\r\nexport const setUserProfile = (profile: null | ProfileType): SetUserProfileActionType => {\r\n    return {\r\n        type: \"SET-USER-PROFILE\",\r\n        profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status: string): setStatusActionType => {\r\n    return {\r\n        type: \"SET-STATUS\",\r\n        status\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userID: string) => (dispatch: Dispatch) => {\r\n    userAPI.getProfile(userID).then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n        dispatch(setUserProfile(response.data))/*отправляем полученные данные в стейт*/\r\n\r\n    })\r\n}\r\n\r\n\r\nexport const getStatus = (userID: string) => (dispatch: Dispatch) => {\r\n    profileAPI.getStatus(userID).then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n        dispatch(setStatus(response.data))/*отправляем полученные данные в стейт*/\r\n\r\n    })\r\n}\r\n\r\nexport const updateStatus = (status: string) => (dispatch: Dispatch) => {\r\n    profileAPI.updateStatus(status).then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n        if (response.data.resultCode===0) {\r\n            dispatch(setStatus(status))/*отправляем полученные данные в стейт*/\r\n\r\n        }\r\n\r\n    })\r\n}","import {SidebarType} from \"./store\";\r\n\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {name: \"Ivan\"},\r\n        {name: \"Oleg\"},\r\n        {name: \"Petr\"},\r\n        {name: \"Vasa\"},\r\n        {name: \"Sergei\"},\r\n        {name: \"Margo\"}\r\n    ]\r\n}\r\n\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: any) => {\r\n\r\n    return state\r\n}","import {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../Api/Api\";\r\n\r\nexport type  FollowActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"FOLLOW\"\r\n    userID: number\r\n}\r\n\r\nexport type  UnFollowActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"UNFOLLOW\"\r\n    userID: number\r\n}\r\n\r\nexport type  SetUsersActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-USERS\"\r\n    users: Array<UsersType>\r\n}\r\n\r\nexport type  SetCurrentPageActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-CURRENT-PAGE\"\r\n    currentPage: number\r\n}\r\n\r\nexport type  SetUsersTotalCountActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-CURRENT-TOTAL-COUNT\"\r\n    totalCount: number\r\n}\r\n\r\nexport type  SetPreloaderActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-PRELOADER\"\r\n    isFetching: boolean\r\n}\r\nexport type  FollowingInProgressActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"FOLLOWING-IN-PROGRESS\"\r\n    userID: number\r\n    isFetching: boolean\r\n}\r\n\r\n\r\n////\r\n\r\n\r\nexport type  UsersMainType = {  /*типизация стейта локального*/\r\n    users: Array<UsersType>\r\n    pageSize: number,\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: number[]\r\n}\r\n\r\nexport type  UsersType = {\r\n    id: number\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: LocationType\r\n}\r\n\r\nexport type  PhotosType = {\r\n    small: null | string\r\n    large: null | string\r\n\r\n}\r\n\r\ntype  LocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\n\r\nexport type  ActionType =\r\n    FollowActionType\r\n    | UnFollowActionType\r\n    | SetUsersActionType\r\n    | SetCurrentPageActionType\r\n    | SetUsersTotalCountActionType\r\n    | SetPreloaderActionType\r\n    | FollowingInProgressActionType\r\n\r\n\r\nlet initialState: UsersMainType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingProgress: []\r\n}\r\n\r\n\r\nexport const usersReducer = (state: UsersMainType = initialState, action: ActionType):UsersMainType => {\r\n    switch (action.type) {\r\n        case \"FOLLOW\": {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n\r\n        case \"UNFOLLOW\": {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n        case \"SET-USERS\": {\r\n            return {...state, users: action.users}\r\n        }\r\n        case \"SET-CURRENT-PAGE\": {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case \"SET-CURRENT-TOTAL-COUNT\": {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case \"SET-PRELOADER\": {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case \"FOLLOWING-IN-PROGRESS\": {\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userID]\r\n                    : state.followingProgress.filter((t) => t !== action.userID)\r\n\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n/*Это экшен криэйторы у которых в названии в конце убрали букву AC*/\r\n\r\n\r\nexport const followSuccess = (userID: number): FollowActionType => {\r\n    return {\r\n        type: \"FOLLOW\",\r\n        userID: userID\r\n    }\r\n}\r\nexport const unFollowSuccess = (userID: number): UnFollowActionType => {\r\n    return {\r\n        type: \"UNFOLLOW\",\r\n        userID: userID\r\n    }\r\n}\r\nexport const setUsers = (users: Array<UsersType>): SetUsersActionType => {\r\n    return {\r\n        type: \"SET-USERS\",\r\n        users: users\r\n    }\r\n}\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => {\r\n    return {\r\n        type: \"SET-CURRENT-PAGE\",\r\n        currentPage: currentPage\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalCount: number): SetUsersTotalCountActionType => {\r\n    return {\r\n        type: \"SET-CURRENT-TOTAL-COUNT\",\r\n        totalCount: totalCount\r\n    }\r\n}\r\nexport const setPreloader = (isFetching: boolean): SetPreloaderActionType => {\r\n    return {\r\n        type: \"SET-PRELOADER\",\r\n        isFetching: isFetching\r\n    }\r\n}\r\nexport const setFollowingInProgress = (userID: number, isFetching: boolean): FollowingInProgressActionType => {\r\n    return {\r\n        type: \"FOLLOWING-IN-PROGRESS\",\r\n        userID: userID,\r\n        isFetching: isFetching\r\n    }\r\n}\r\n\r\n\r\n/*санки*/\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => { /*это криэйтор санки*/\r\n    return (dispatch: Dispatch) => {   /*это санка*/\r\n\r\n        dispatch(setPreloader(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n\r\n        userAPI.getUsers(currentPage, pageSize).then(data => {/*запрос на сервак, зен респонс это ответ*/\r\n            dispatch(setPreloader(false))\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = (userID: number) => { /*это криэйтор санки*/\r\n    return (dispatch: Dispatch) => {   /*это санка*/\r\n        dispatch(setFollowingInProgress(userID,true))\r\n        userAPI.follow(userID)\r\n\r\n            .then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(followSuccess(userID))\r\n                }\r\n                dispatch(setFollowingInProgress(userID,false))\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID: number) => { /*это криэйтор санки*/\r\n    return (dispatch: Dispatch) => {   /*это санка*/\r\n        dispatch(setFollowingInProgress(userID,true))\r\n        userAPI.unfollow(userID)\r\n            .then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(unFollowSuccess(userID))\r\n                }\r\n                dispatch(setFollowingInProgress(userID,false))\r\n            })\r\n\r\n    }\r\n}\r\n\r\n\r\n","import {authAPI} from \"../Api/Api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {StateReduxType} from \"./redux-store\";\r\nimport {FormAction} from \"redux-form\";\r\n\r\nexport type  AuthMainActionType = { /*необходимо для типизации диспатчка*/\r\n    type: \"SET-USER-DATA\"\r\n    payload: {\r\n        id: null | number\r\n        email: null | string\r\n        login: null | string\r\n        isAuth: boolean\r\n    }\r\n}\r\n////\r\n\r\n\r\nexport type  AuthMainType = {  /*типизация стейта локального*/\r\n    id: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n}\r\n\r\n\r\nexport type  ActionType = AuthMainActionType\r\n\r\n\r\n// let initialState: AuthMainType = {\r\n//     data: {\r\n//         id: 2,\r\n//         email: null,\r\n//         login: null,\r\n//     },\r\n//     isAuth: false\r\n// }\r\n\r\n\r\nlet initialState: AuthMainType = {\r\n    id: 2,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\n\r\nexport const authReducer = (state: AuthMainType = initialState, action: ActionType) => {\r\n    switch (action.type) {\r\n\r\n        case \"SET-USER-DATA\": {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setUserData = (id: number | null, email: null | string, login: null | string, isAuth: boolean): AuthMainActionType => {\r\n    return {\r\n        type: \"SET-USER-DATA\",\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = () => (dispatch: Dispatch) => {\r\n    return authAPI.me().then(response => {/*запрос на сервак, зен респонс это ответ*/\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data\r\n            dispatch(setUserData(id, email, login, true))\r\n        } /*отправляем полученные данные в стейт*/\r\n\r\n\r\n    })\r\n\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, StateReduxType, unknown, ActionType | FormAction> => (dispatch) => {\r\n\r\n    authAPI.login(email, password, rememberMe)\r\n        .then((response) => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            }\r\n        })\r\n}\r\n\r\n\r\nexport const loginOut = () => (dispatch: Dispatch) => {\r\n\r\n    authAPI.loginOut()\r\n        .then((response) => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserData(null, null, null, false))\r\n            }\r\n        })\r\n\r\n}\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {getAuthUserData} from \"./auth-reduсer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {FormAction} from \"redux-form\";\r\nimport { StateReduxType } from \"./redux-store\";\r\n\r\nexport type  initializedActionType = {\r\n    type: \"INITIALIZED-SUCCESSES\"\r\n}\r\n//\r\n\r\n\r\nexport type  AuthMainType = {  /*типизация стейта локального*/\r\n    initialized: boolean,\r\n}\r\n\r\n\r\nexport type  ActionType = initializedActionType\r\n\r\n\r\ntype ThunkTyoe = ThunkAction<void, StateReduxType, unknown, ActionType>\r\n\r\n\r\nlet initialState: AuthMainType = {\r\n    initialized: false,\r\n}\r\n\r\n\r\nexport const appReducer = (state: AuthMainType = initialState, action: ActionType): AuthMainType => {\r\n    switch (action.type) {\r\n\r\n        case \"INITIALIZED-SUCCESSES\": {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = (): initializedActionType => {\r\n    return {\r\n        type: \"INITIALIZED-SUCCESSES\",\r\n    }\r\n}\r\n\r\nexport const initializeApp = ():ThunkTyoe => (dispatch) => {\r\n   let prom = dispatch(getAuthUserData())\r\n\r\n    prom.then(()=> {\r\n        dispatch(initializedSuccess())\r\n\r\n    })\r\n\r\n}\r\n\r\n//\r\n// export const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, StateReduxType, unknown, ActionType | FormAction> => (dispatch) => {\r\n//\r\n//     authAPI.login(email, password, rememberMe)\r\n//         .then((response) => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(getAuthUserData())\r\n//             }\r\n//         })\r\n//\r\n// }\r\n//\r\n//\r\n// export const loginOut = () => (dispatch: Dispatch) => {\r\n//\r\n//     authAPI.loginOut()\r\n//         .then((response) => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(setUserData(null, null, null, false))\r\n//             }\r\n//         })\r\n//\r\n// }\r\n\r\n","import {applyMiddleware, combineReducers, createStore, Store} from \"redux\";\r\nimport {dialogsReducer} from \"./dialogs-reduсer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport {usersReducer} from \"./users-reduсer\";\r\nimport {authReducer} from \"./auth-reduсer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./app-reduсer\";\r\n\r\n\r\nlet reducers = combineReducers({ /*создается общий редьюсер с помощью спец команды, внутрь котор вставляют редюсеры имеющиеся*/\r\n    dialogsPage: dialogsReducer,  /*ключ это элем общий из стейта, значя относящийся к нему релдьюсер*/\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    appReducer:appReducer\r\n})\r\n\r\nexport type StateReduxType = ReturnType<typeof reducers>/*скопировал из впервой версии*/\r\n\r\n\r\n// export let store: Store<StateReduxType> = createStore(reducers) /*это шаблон создания стора*/\r\nexport let store: Store<StateReduxType> = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n// export let store: any = createStore(reducers) /*это шаблон создания стора help*/\r\n\r\n//@ts-ignore\r\nwindow.store = store","import React from 'react';\r\nimport styles from \"./../Friends.module.css\";\r\n\r\n\r\ntype  FriendPropsType = {\r\n    name:string\r\n\r\n}\r\n\r\n\r\nexport const Friend = (props:FriendPropsType) => {\r\n    return (\r\n        <div className={styles.item}>\r\n            <div className={styles.images}>\r\n                <img className={styles.image} src=\"https://www.film.ru/sites/default/files/news/44976246-1097247.jpg\" alt=\"\"/>\r\n            </div>\r\n            <div className={styles.name}>\r\n                <span>{props.name}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport {FriendsType} from \"../../redux/store\";\r\nimport {Friend} from \"./Friend/Friend\";\r\nimport styles from \"./Friends.module.css\";\r\n\r\n\r\ntype  FriendsPropsType = {\r\n    names: Array<FriendsType>\r\n}\r\n\r\nexport const Friends = (props: FriendsPropsType) => {\r\n    return (\r\n        <div className={styles.main}>\r\n            <h3>Best Friends</h3>\r\n            <div className={styles.row}>\r\n                {props.names.map((t, index) => <Friend name={t.name} key={index}/>)}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\n\r\nimport styles from \"./Navbar.module.css\"\r\nimport {NavLink} from 'react-router-dom';\r\nimport {Friends} from \"../Friends/Friends\";\r\nimport {store} from \"../../redux/redux-store\";\r\n\r\n\r\ntype  NavbarPropsType = {\r\n    // state: SidebarType\r\n}\r\n\r\nexport const Navbar = (props: NavbarPropsType) => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div className={styles.menu}>\r\n                <div><NavLink activeClassName={styles.active} to=\"/profile\">Profile</NavLink></div>\r\n                <div><NavLink activeClassName={styles.active} to=\"/dialogs\">Dialogs</NavLink></div>\r\n                <div><a href=\"/#\">News</a></div>\r\n                <div><a href=\"/#\">Music</a></div>\r\n                <div><a href=\"/#\">News</a></div>\r\n            </div>\r\n            <div className={styles.friends}>\r\n                <Friends names={store.getState().sidebar.friends}/>\r\n            </div>\r\n            <div><NavLink className={styles.users} activeClassName={styles.active} to=\"/users\">Users</NavLink></div>\r\n\r\n        </nav>\r\n    );\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/neand.5e875fa6.png\";","import React from 'react';\r\nimport styles from \"./User.module.css\";\r\nimport image from \"../../img/neand.png\";\r\nimport {UsersType} from \"../../redux/users-reduсer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype  UsersNewPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    setCurrentPage: (currentPage: number) => void\r\n    setUsers: (users: Array<UsersType>) => void\r\n    currentPage: number\r\n    users: Array<UsersType>\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    OnClickPageHandler: (pageNumber: number) => void\r\n    setFollowingInProgress: (userID: number, isFetching: boolean) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport const Users = (props: UsersNewPropsType) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)/* Math.ceil округляет число в большую сторону*/\r\n    let pages: Array<number> = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.pagination_wrapper}>\r\n                {pages.map((t) => <span key={t}\r\n                                        className={props.currentPage === t ? styles.selectedPage : \"\"}\r\n                                        onClick={() => {\r\n                                            props.OnClickPageHandler(t)\r\n                                        }}>{t}</span>)}\r\n            </div>\r\n            {/*<button onClick={this.getUsers}>Get users from server</button>*/}\r\n            {props.users.map((u) => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={\"/profile/\" + u.id}>\r\n                        <img className={styles.image} src={u.photos.small !== null ? u.photos.small : image} alt=\"\"/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div> {u.followed\r\n                        ?\r\n                        <button disabled={props.followingInProgress.some((t) => t === u.id)} onClick={() => {\r\n                            props.unfollow(u.id)\r\n                        }}>Unfollow</button>\r\n                        :\r\n                        <button disabled={props.followingInProgress.some((t) => t === u.id)} onClick={() => {\r\n                            props.follow(u.id)\r\n                        }}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                    <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"u.location.country\"}</div>\r\n                        <div>{\"u.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div>)\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/3.b98a8c76.svg\";","import React from 'react';\r\nimport preloader from \"../../img/3.svg\";\r\nimport styles from\"./Preloader.module.css\"\r\n\r\nexport const Preloader =() => {\r\n return (\r\n        <div className={styles.main}>\r\n            <img  className={styles.img} alt={\"preloader\"} src={preloader}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React, {ComponentType} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {StateReduxType} from \"../redux/redux-store\";\r\n\r\n\r\ntype  MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: StateReduxType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function WithAuthRedirect<T>(Component: ComponentType<T>) {\r\n    function RedirectComponent(props: MapStateToPropsType) {\r\n\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to=\"/login\"/>\r\n\r\n\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}\r\n\r\n","import {StateReduxType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UsersType} from \"./users-reduсer\";\r\n\r\nexport const getUsers = (state: StateReduxType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users: Array<UsersType>) => {\r\n    return users.map((user) => user)\r\n})\r\n\r\n// export const getUsersSuper = createSelector(getUsers, getPageSize (users: Array<UsersType>, pageSize: number) => {\r\n//     return users.map((user) => true)\r\n// })\r\n\r\n\r\nexport const getPageSize = (state: StateReduxType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: StateReduxType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: StateReduxType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: StateReduxType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state: StateReduxType) => {\r\n    return state.usersPage.followingProgress\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followSuccess,\r\n    getUsersThunkCreator,\r\n    setCurrentPage,\r\n    setFollowingInProgress,\r\n    setUsers,\r\n    unFollowSuccess,\r\n    UsersType\r\n} from \"../../redux/users-reduсer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../preloader/Preloader\";\r\nimport {WithAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers,\r\n    getUsersSuper\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: []\r\n\r\n    setUsers: (users: Array<UsersType>) => void\r\n    follow: (userID: number) => void\r\n    unFollow: (userID: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    // setPreloader: (isFetching: boolean) => void\r\n    setFollowingInProgress: (userID: number, isFetching: boolean) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component <UsersPropsType, StateReduxType> {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    OnClickPageHandler = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    setCurrentPage={this.props.setCurrentPage}\r\n                    setUsers={this.props.setUsers}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unFollow}\r\n                    OnClickPageHandler={this.OnClickPageHandler}\r\n                    setFollowingInProgress={this.props.setFollowingInProgress}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport const mapStateToProps = (state: StateReduxType) => {\r\n\r\n    return {\r\n        users: getUsersSuper(state),  /*отправляет стейт в компоненту*/\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingProgress(state)\r\n    }\r\n}\r\n\r\n// export const mapDispatchToProps = (dispatch: Dispatch) => {\r\n//     return {\r\n//         follow: (userID: number) => {\r\n//             dispatch(follow(userID))\r\n//         },\r\n//         unfollow: (userID: number) => {\r\n//             dispatch(unFollow(userID))\r\n//         },\r\n//         setUsers: (users: Array<UsersType>) => {\r\n//             dispatch(setUsers(users))\r\n//         },\r\n//         setCurrentPage: (currentPage: number) => {\r\n//             dispatch(setCurrentPage(currentPage))\r\n//         },\r\n//         setTotalUsersCount: (totalCount: number) => {\r\n//             dispatch(setUsersTotalCount(totalCount))\r\n//         },\r\n//         setPreloader: (isFetching: boolean) => {\r\n//             dispatch(setPreloader(isFetching))\r\n//         },\r\n//\r\n//     }\r\n// } /*описана прямо внутри коннекта новым способом*/\r\n\r\n\r\n// let withRedirect = WithAuthRedirect(UsersContainer)\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow: followSuccess,\r\n        unFollow: unFollowSuccess,\r\n        setCurrentPage,\r\n        setUsers,\r\n        setFollowingInProgress,\r\n        getUsers: getUsersThunkCreator\r\n    }),\r\n    WithAuthRedirect\r\n)(UsersContainer)\r\n\r\n\r\n// export default connect(mapStateToProps, {\r\n//     follow: followSuccess,\r\n//     unFollow: unFollowSuccess,\r\n//     setCurrentPage,\r\n//     setUsers,\r\n//     setFollowingInProgress,\r\n//     getUsers: getUsersThunkCreator\r\n// })(withRedirect) /*получаем новую контейнерную компоненту*/\r\n\r\n","export default __webpack_public_path__ + \"static/media/mountain.ed14195c.jpg\";","import React, {ChangeEvent, KeyboardEvent, useEffect, useState} from 'react';\r\n\r\ntype  StatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\ntype  StatusStateType = {\r\n    status: string\r\n    editMode: boolean\r\n}\r\n\r\n\r\nexport const ProfileStatus = (props: StatusPropsType) => {\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n    const [status, setStatus] = useState<string>(props.status);\r\n\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const onEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const ofEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n\r\n    }\r\n\r\n\r\n    const onStatusKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.charCode === 13) {\r\n            ofEditMode()\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode\r\n                ?\r\n                <div>\r\n                    <span onDoubleClick={onEditMode}>{props.status}</span>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <input onKeyPress={onStatusKeyPress} onChange={onStatusChange} autoFocus={true} onBlur={ofEditMode}\r\n                           value={status}/>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\n","import styles from \"./ProfileInfo.module.css\";\r\nimport mountains from \"../../../img/mountain.jpg\";\r\nimport React from \"react\";\r\nimport {Preloader} from \"../../preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\n\r\ntype  ProfileInfoPropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileInfo = (props: ProfileInfoPropsType) => {\r\n    if (!props.profile) {   /*как это влияет на отрисовку профиля?????*/\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n\r\n        <div>\r\n\r\n            <img className={styles.img} src={mountains} alt=\"\"/>\r\n            <h2>Name and Description</h2>\r\n            <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            <img alt={\"some pic\"} src={props.profile.photos.large}/>\r\n            <div>About me: {props.profile.aboutMe}</div>\r\n            <div>If I search work: {props.profile.lookingForAJobDescription}</div>\r\n            <div>My real name is {props.profile.fullName}</div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/bird.5ea64365.jpg\";","import React from 'react';\r\nimport styles from \"./Post.module.css\"\r\nimport bird from \"../../../../img/bird.jpg\";\r\n\r\n\r\ntype  PostPropsType = {\r\n    message: string\r\n    likes: number\r\n}\r\n\r\nexport const Post = (props:PostPropsType) => {\r\n    return (\r\n        <div className={styles.post}>\r\n            <img className={styles.img} src={bird} alt=\"\"/>\r\n\r\n            <div className={styles.wrap}>\r\n                <div>{props.message} </div>\r\n                <div>Likes {props.likes}</div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n","export const required: any = (value: any) => {\r\n    return value ? undefined : \"Field is required\"\r\n}\r\n\r\n\r\n\r\n\r\nexport const maxLengthCreator  = (maxLength: number) => (value: any): any=> {\r\n    return value && value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined\r\n\r\n\r\n}","import React from 'react';\r\nimport styles from \"./Textarea.module.css\"\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}: WrappedFieldProps) => {\r\n\r\n    return (\r\n        <div className={`${styles.formControl} ${meta.touched && meta.error ? styles.error : \"\"}`}>\r\n            <div><textarea {...input} {...props} /></div>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport styles from \"./MyPosts.module.css\"\r\nimport {Post} from \"./Post/Post\";\r\nimport {PostsType} from \"../../../redux/profile-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../FormsControls/Textarea\";\r\n\r\ntype  MyPostsPropsType = {\r\n    posts: Array<PostsType>\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\ntype  FormType = {\r\n    newPostText: string\r\n}\r\n\r\nlet maxLength = maxLengthCreator(15)\r\n\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    const onAddPost = (values: FormType) => {\r\n        if (values) {\r\n            props.addPost(values.newPostText)\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.posts}>\r\n            <div className={styles.main}>\r\n                <h2>My Posts</h2>\r\n                <AddNewPostForm onSubmit={onAddPost}/>\r\n            </div>\r\n            {props.posts.map((t, index) => <Post key={index} message={t.message} likes={t.likesCount}/>)}\r\n        </div>\r\n    );\r\n});\r\n\r\nconst AddNewPost = (props: InjectedFormProps<FormType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={\"newPostText\"} component={Textarea} validate={[required, maxLength]} placeholder={\"Post message\"}/>\r\n            </div>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostForm = reduxForm<FormType>({form: \"ProfileAddNewPost\"})(AddNewPost)","import {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport {Dispatch} from \"redux\";\r\nimport {StateReduxType} from \"../../../redux/redux-store\";\r\n\r\n\r\nexport const mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        // newPostText: state.profilePage.newPostText\r\n\r\n    }\r\n}\r\nexport const mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n\r\n}\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)/*коннект имеет локальный субскрайб*/","import React from 'react';\r\nimport styles from \"./Profile.module.css\"\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\n\r\ntype  ProfilePropsType = {\r\n   // profilePage: ProfilePageType\r\n    // addPost: () => void\r\n    // updateNewPostText: (newText: string) => void\r\n    //dispatch: (action: ActionsType) => void\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\n\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n\r\n\r\n    return ( /*как оказался стор*/\r\n        <div className={styles.profile}>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport styles from \"./Profile.module.css\"\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from 'react-redux';\r\nimport {getStatus, getUserProfile, ProfileType, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\ntype  ProfileContainerPropsType = {\r\n    // setUserProfile: (profile: ProfileType) => void\r\n    profile: null | ProfileType\r\n    getUserProfile: (userID: string) => void\r\n    getStatus: (userID: string) => void\r\n    updateStatus: (status: string) => void\r\n    status: string\r\n}\r\ntype  PropsType = RouteComponentProps<PathType> & ProfileContainerPropsType  /*типизация пришедшего пути браузера*/\r\ntype  PathType = {\r\n    userId: string\r\n}\r\n\r\nclass ProfileContainer extends React.Component <PropsType, StateReduxType> {\r\n    componentDidMount() {   /*метод жизненного цикла, тут все запросы на сервер*/\r\n        let userID = this.props.match.params.userId\r\n        if (!userID) {\r\n            userID = \"19115\"\r\n            if (!userID) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userID)\r\n        this.props.getStatus(userID)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.profile}>\r\n                <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}/> {/*все пришедшие пропсы прокидываю дальше*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n// let AuthRedirectComponent = WithAuthRedirect(ProfileContainer)\r\n\r\n\r\nlet mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status\r\n    }\r\n}\r\n\r\n\r\n// let ProfileWithUrl = withRouter(AuthRedirectComponent)\r\n// export default connect(mapStateToProps, {getUserProfile})(ProfileWithUrl)\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    // WithAuthRedirect\r\n)(ProfileContainer)","export default __webpack_public_path__ + \"static/media/dragon.5ce493a6.png\";","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport dragon from \"../../img/dragon.png\";\r\nimport styles from \"./Header.module.css\"\r\n\r\ntype  HeaderPropsType = {\r\n    // setUserData: (id: number, email: null | string, login: null | string) => void\r\n    isAuth: boolean\r\n    login: null | string\r\n    loginOut: () => void\r\n}\r\n\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img className={styles.img} src={dragon} alt=\"\"/>\r\n            <div className={styles.auth}>\r\n                {props.isAuth ? <div>{props.login} <button onClick={props.loginOut}>Log out</button></div> :\r\n                    <NavLink to=\"/login\">Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginOut} from \"../../redux/auth-reduсer\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\ntype  HeaderContainerPropsType = {\r\n    // setUserData: (id: number, email: null | string, login: null | string) => void\r\n    isAuth: boolean\r\n    login: null | string\r\n\r\n    loginOut: any\r\n}\r\n\r\n\r\nclass HeaderContainer extends React.Component <HeaderContainerPropsType, StateReduxType> {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {loginOut})(HeaderContainer)","import styles from \"./Textarea.module.css\";\r\nimport React from \"react\";\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\nexport const Input = ({input, meta, ...props}: WrappedFieldProps) => {\r\n\r\n    return (\r\n        <div className={`${styles.formControl} ${meta.touched && meta.error ? styles.error : \"\"}`}>\r\n            <div><input {...input} {...props} /></div>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../FormsControls/Input\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {login} from \"../../redux/auth-reduсer\";\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n\r\n}\r\ntype MSTP = {\r\n    isAuth: boolean\r\n}\r\ntype MDTP = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\ntype LoginPropsType = MSTP & MDTP\r\n\r\nconst LoginForm = (props: InjectedFormProps<FormDataType>) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field placeholder={\"Login\"} name={\"email\"} validate={[required]} component={Input}/></div>\r\n            <div><Field placeholder={\"Password\"} validate={[required]} type={\"password\"} name={\"password\"}\r\n                        component={Input}/></div>\r\n            <div><Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/>Remember Me</div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm<FormDataType>({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props: LoginPropsType) => {        /*какие пропсы типизация*/\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n\r\n\r\n    }\r\n\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginFormRedux onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: StateReduxType): MSTP => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect<MSTP, MDTP, {}, StateReduxType>(mapStateToProps, {login})(Login)","import React from 'react';\r\nimport styles from \"./Message.module.css\";\r\n\r\n\r\ntype  MessagePropsType = {\r\n    message: string\r\n\r\n}\r\n\r\nexport const Message = (props: MessagePropsType) => {\r\n    return (\r\n        <div className={styles.message}>{props.message}</div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from \"./DialogsItem.module.css\";\r\n\r\n\r\ntype  DialogsItemPropsType = {\r\n    name: string\r\n    id: number\r\n}\r\n\r\nexport const DialogsItem = (props: DialogsItemPropsType) => {\r\n    return (\r\n        <div className={styles.dialog}><NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink></div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {ChangeEvent} from 'react';\r\nimport styles from \"./Dialogs.module.css\";\r\nimport {Message} from './Message/Message';\r\nimport {DialogsItem} from \"./DialogsItem/DialogsItem\";\r\nimport {DialogsPageType} from \"../../redux/dialogs-reduсer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../FormsControls/Textarea\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\n\r\ntype  DialogsPropsType = {\r\n    updateNewPostBody: (body: string) => void\r\n    sendMessage: (newMessageBody: string) => void\r\n    dialogsPage: DialogsPageType\r\n    isAuth: boolean\r\n}\r\n\r\n\r\ntype  FormType = {\r\n    newMessageBody: string\r\n}\r\n\r\nexport const Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n\r\n    const addNewMessage = (formData: FormType) => {\r\n        props.sendMessage(formData.newMessageBody)\r\n    }\r\n\r\n    // if (!props.isAuth) {\r\n    //   return <Redirect to={\"/login\"}/>\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.dialogs}>\r\n                {props.dialogsPage.dialogs.map((t) => <DialogsItem name={t.name} id={t.id}\r\n                                                                   key={t.id}/>)}\r\n            </div>\r\n            <div className={styles.messages}>\r\n                <div> {props.dialogsPage.messages.map((t, index) => <Message message={t.message}\r\n                                                                             key={index}/>)}</div>\r\n                <AddMessageFormDialog onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nlet maxLength50 = maxLengthCreator(50)\r\n\r\nconst FormDialog = (props: InjectedFormProps<FormType>) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} validate={[required, maxLength50]} name={\"newMessageBody\"} placeholder={\"Enter message\"}/>\r\n            </div>\r\n\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormDialog = reduxForm<FormType>({form: \"dialogAddMessageFormDialog\"})(FormDialog)\r\n","import {connect} from \"react-redux\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {SendMessageActionCreator} from \"../../redux/dialogs-reduсer\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport React from \"react\";\r\nimport {WithAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {StateReduxType} from \"../../redux/redux-store\";\r\n\r\n\r\nexport const mapStateToProps = (state: StateReduxType) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        // isAuth: state.auth.isAuth\r\n    }\r\n}\r\nexport const mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        // updateNewPostBody: (body: string) => {\r\n        //     dispatch(updateNewPostBodyActionCreator(body))\r\n        // },\r\n        sendMessage: (newMessageBody: string) => {\r\n            dispatch(SendMessageActionCreator(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, mapDispatchToProps), WithAuthRedirect)(Dialogs)\r\n\r\n// export const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent) /*получаем новую контейнерную компоненту*/","import React from 'react';\r\nimport './App.css';\r\n\r\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport {Navbar} from './components/Navbar/Navbar';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reduсer\";\r\nimport {StateReduxType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./components/preloader/Preloader\";\r\n\r\n\r\ntype AppPropsType = {\r\n    initializeApp: () => void\r\n    initialized: boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    componentDidMount() {   /*метод жизненного цикла, тут все зхапосы на сервер*/\r\n        this.props.initializeApp()\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n\r\n            return <Preloader/>\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <HeaderContainer/>\r\n                {/*<Navbar state={props.store.sidebar}/>*/}\r\n                <Navbar/>\r\n                <div className={\"profile\"}>\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>}/>\r\n\r\n                        {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.getState().dialogsPage}/>}/>*/}\r\n                        <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\r\n                        {/*<Route path=\"/dialogs\" render={() => <Dialogs  dispatch={props.dispatch} state={props.store.dialogsPage}*/}\r\n                        <Route path=\"/profile/:userId?\"\r\n                               render={() => <ProfileContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                        <Route path=\"/users\" render={() => <UsersContainer/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                        <Route path=\"/login\" render={() => <Login/>} /*пробрасываем диспатч вмеесто функцый*//>\r\n                    </Switch>\r\n                    {/*<Dialogs/>*/}\r\n                    {/*<Profile/>*/}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: StateReduxType): MapStateToPropsType => {\r\n    return {\r\n        initialized: state.appReducer.initialized\r\n    }\r\n}\r\n\r\n\r\ntype  MapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\ntype  MapDispatchToProps = {\r\n    initializeApp: () => void\r\n}\r\n\r\ntype  OwnProps = {}\r\n\r\nexport default compose<React.ComponentType>(withRouter, connect<MapStateToPropsType, MapDispatchToProps, OwnProps, StateReduxType>(mapStateToProps, {initializeApp}))(App)\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport './index.css';\r\nimport {store} from \"./redux/redux-store\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from 'react-redux';\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n\r\n// let RerenderEntireTree = () => {  /*Функция для перерисовки*/\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <Provider store={store}>{/*позволяет стор  засунуть в контектс*/}\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// RerenderEntireTree()/*Функция для перерисовки, вызывается для первой отрисовки*/\r\n\r\n// store.subscribe(() => {\r\n//         // let state = store.getState()\r\n//         RerenderEntireTree()\r\n//     }\r\n// )/* функция которая закидывает ререндер в стейт файл*/\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Friends_main__1XAM0\",\"row\":\"Friends_row__35Bt8\",\"item\":\"Friends_item__1Uooj\",\"images\":\"Friends_images__2gbUq\",\"name\":\"Friends_name__33fB7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2i0I_\",\"menu\":\"Navbar_menu__3b9Ky\",\"active\":\"Navbar_active__2kMfW\",\"users\":\"Navbar_users__ruFIE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Textarea_formControl__50Apl\",\"error\":\"Textarea_error__2O4Pd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"User_main__31tvV\",\"image\":\"User_image__2xVBF\",\"pagination_wrapper\":\"User_pagination_wrapper__1eqvL\",\"selectedPage\":\"User_selectedPage__25xql\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2LSn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3wUTQ\",\"wrap\":\"Post_wrap__bSfXB\",\"img\":\"Post_img__2LJI8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Header_img__214aN\",\"header\":\"Header_header__2xpWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Dialogs_main__2UXer\",\"dialogs\":\"Dialogs_dialogs__luw1S\",\"dialog\":\"Dialogs_dialog__19LfF\",\"active\":\"Dialogs_active__3Kcdw\",\"message\":\"Dialogs_message__2luxZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__1a-af\",\"img\":\"Preloader_img__2tHPs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__TOD2P\",\"main\":\"MyPosts_main__2ptLK\"};"],"sourceRoot":""}