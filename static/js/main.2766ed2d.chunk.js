(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(44),a=n(3),s=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}},i={dialogs:[{id:1,name:"Ivan"},{id:2,name:"Oleg"},{id:3,name:"Misha"},{id:4,name:"Petr"},{id:5,name:"Alex"}],messages:[{id:1,message:"Privet"},{id:2,message:"How are you"},{id:3,message:"Lets we meet"},{id:4,message:"No"}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=Object(a.a)(Object(a.a)({},e),{},{messages:Object(r.a)(e.messages)}),s=t.newMessageBody;return n.messages.push({id:5,message:s}),n;default:return e}}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(45),s=(n(0),n(10)),i=n(11),c=n(1),o=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(i.b)(o)((function(t){var n=t.isAuth,i=Object(a.a)(t,["isAuth"]);return n?Object(c.jsx)(e,Object(r.a)({},i)):Object(c.jsx)(s.a,{to:"/login"})}))}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(45),s=(n(0),n(46)),i=n.n(s),c=n(1),o=function(e){var t=e.input,n=e.meta,s=Object(a.a)(e,["input","meta"]);return Object(c.jsxs)("div",{className:"".concat(i.a.formControl," ").concat(n.touched&&n.error?i.a.error:""),children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),s))}),n.touched&&n.error&&Object(c.jsx)("span",{children:n.error})]})}},138:function(e,t,n){},21:function(e,t,n){e.exports={main:"Users_main__pqh2t",image:"Users_image__10RV9",pagination_wrapper:"Users_pagination_wrapper__2wLc9",selectedPage:"Users_selectedPage__ohqD6",desc:"Users_desc__3xwRZ",name:"Users_name__2HBzu",wrap:"Users_wrap__KN6ow",follow:"Users_follow__2ZzmM",item:"Users_item__3-SSA"}},221:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=(n(138),n(8)),i=n(100),c=n(9),o=n.n(c),u=n(15),l=n(44),d=n(3),j=n(131),p=n.n(j).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7c38f700-eae7-4224-81a9-9392ebf67fbb"}}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},b=function(e){return p.post("follow/".concat(e))},O=function(e){return p.delete("follow/".concat(e))},h=function(e){return m.getProfile(e)},m={getProfile:function(e){return p.get("profile/"+e)},getStatus:function(e){return p.get("profile/status/"+e)},updateStatus:function(e){return p.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),p.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})}},g=function(){return p.get("auth/me")},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return p.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},v=function(){return p.delete("auth/login")},S=function(){return p.get("security/get-captcha-url")},P={posts:[{id:1,message:"Hello",likesCount:8},{id:2,message:"How are you?",likesCount:15},{id:3,message:"Where are you?",likesCount:50}],profile:null,status:""},w=function(e){return{type:"PROFILE/SET-STATUS",status:e}},_={friends:[{name:"Ivan"},{name:"Oleg"},{name:"Petr"},{name:"Vasa"},{name:"Sergei"},{name:"Margo"}]},E={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingProgress:[],filter:{term:"",friend:null}},U=function(e){return{type:"USERS/FOLLOW",userID:e}},N=function(e){return{type:"USERS/UNFOLLOW",userID:e}},y=function(e){return{type:"USERS/SET-USERS",users:e}},C=function(e){return{type:"USERS/SET-FILTER",payload:e}},R=function(e){return{type:"USERS/SET-CURRENT-PAGE",currentPage:e}},T=function(e){return{type:"USERS/SET-PRELOADER",isFetching:e}},L=function(e,t){return{type:"USERS/FOLLOWING-IN-PROGRESS",userID:e,isFetching:t}},F={id:2,email:null,login:null,isAuth:!1,captchaURL:null},I=function(e,t,n,r){return{type:"AUTH/SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:r}}},A=function(e){return{type:"AUTH/SET-CAPTCHA-URL",payload:{captchaURL:e}}},k=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.email,i=r.login,t(I(a,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:n=e.sent,r=n.data.url,console.log(n.data.url),t(A(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,9,12,14]])})));return function(t){return e.apply(this,arguments)}}()},M=n(132),H=n(268),z={initialized:!1},B=Object(s.c)({dialogsPage:i.b,profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"PROFILE/ADD-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:[{id:5,message:t.newPostText,likesCount:0}].concat(Object(l.a)(e.posts))});case"PROFILE/SET-USER-PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case"PROFILE/DELETE-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case"PROFILE/SET-PHOTO":return Object(d.a)(Object(d.a)({},e),{},{profile:e.profile?Object(d.a)({},e.profile):null});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case"USERS/UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case"USERS/SET-USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"USERS/SET-CURRENT-PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET-CURRENT-TOTAL-COUNT":return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET-PRELOADER":return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case"USERS/FOLLOWING-IN-PROGRESS":return Object(d.a)(Object(d.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(l.a)(e.followingProgress),[t.userID]):e.followingProgress.filter((function(e){return e!==t.userID}))});case"USERS/SET-FILTER":return Object(d.a)(Object(d.a)({},e),{},{filter:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":case"AUTH/SET-CAPTCHA-URL":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},form:H.a,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESSES":return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}}}),W=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,G=Object(s.e)(B,W(Object(s.a)(M.a)));window.store=G;var K=n(65),V=n.n(K),J=n(32),X=n(33),q=n(35),Z=n(34),Y=(n(221),n(10)),Q=n(27),$=n.n(Q),ee=n(13),te=n(36),ne=n.n(te),re=n(1),ae=function(e){return Object(re.jsxs)("div",{className:ne.a.item,children:[Object(re.jsx)("div",{className:ne.a.images,children:Object(re.jsx)("img",{className:ne.a.image,src:"https://www.film.ru/sites/default/files/news/44976246-1097247.jpg",alt:""})}),Object(re.jsx)("div",{className:ne.a.name,children:Object(re.jsx)("span",{children:e.name})})]})},se=function(e){return Object(re.jsxs)("div",{className:ne.a.main,children:[Object(re.jsx)("h3",{children:"Best Friends"}),Object(re.jsx)("div",{className:ne.a.row,children:e.names.map((function(e,t){return Object(re.jsx)(ae,{name:e.name},t)}))})]})},ie=function(e){return Object(re.jsxs)("nav",{className:$.a.nav,children:[Object(re.jsxs)("div",{className:$.a.menu,children:[Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/profile",children:"Profile"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/dialogs",children:"Dialogs"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/news",children:"News"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/music",children:"Music"})})]}),Object(re.jsx)("div",{className:$.a.friends,children:Object(re.jsx)(se,{names:G.getState().sidebar.friends})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{className:$.a.users,activeClassName:$.a.active,to:"/users",children:"Users"})})]})},ce=n(11),oe=n(21),ue=n.n(oe),le=n.p+"static/media/neand.5e875fa6.png",de=n(54),je=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,s=e.OnPageHandler,i=e.portionSize,c=void 0===i?10:i,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/c),j=Object(r.useState)(1),p=Object(de.a)(j,2),f=p[0],b=p[1],O=(f-1)*c+1,h=f*c;return Object(re.jsx)("div",{className:ue.a.main,children:Object(re.jsxs)("div",{className:ue.a.pagination_wrapper,children:[f>1&&Object(re.jsx)("button",{onClick:function(){b(f-1)},children:"PREV"}),u.filter((function(e){return e>=O&&e<=h})).map((function(e){return Object(re.jsx)("span",{className:a===e?ue.a.selectedPage:"",onClick:function(){s(e)},children:e},e)})),d>f&&Object(re.jsx)("button",{onClick:function(){b(f+1)},children:"NEXT"})]})})},pe=n(55),fe=a.a.memo((function(e){return Object(re.jsx)("div",{children:Object(re.jsx)(pe.c,{initialValues:{term:"",friend:"null"},validate:function(e){return{}},onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.OnFilterHandler(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(re.jsxs)(pe.b,{children:[Object(re.jsx)(pe.a,{type:"text",name:"term"})," ",Object(re.jsxs)(pe.a,{name:"friend",as:"select",children:[Object(re.jsx)("option",{value:"null",children:"All"}),Object(re.jsx)("option",{value:"true",children:"Only Followed"}),Object(re.jsx)("option",{value:"false",children:"UnFollowed"})]}),Object(re.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),be=function(e){Object(ce.c)();return Object(re.jsxs)("div",{className:ue.a.main,children:[Object(re.jsx)(fe,{OnFilterHandler:e.OnFilterHandler}),Object(re.jsx)(je,{currentPage:e.currentPage,OnPageHandler:e.OnClickPageHandler,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,portionSize:10}),e.users.map((function(t){return Object(re.jsx)("div",{className:ue.a.item,children:Object(re.jsxs)("span",{children:[Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{to:"/profile/"+t.id,children:Object(re.jsx)("img",{className:ue.a.image,src:null!==t.photos.small?t.photos.small:le,alt:""})})}),Object(re.jsxs)("div",{className:ue.a.follow,children:[" ",t.followed?Object(re.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(re.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})]}),Object(re.jsx)("span",{children:Object(re.jsxs)("div",{className:ue.a.wrap,children:[Object(re.jsx)("span",{className:ue.a.desc,children:"Name"})," ",Object(re.jsx)("div",{className:ue.a.name,children:t.name})]})})]})},t.id)}))]})},Oe=n.p+"static/media/3.b98a8c76.svg",he=n(93),me=n.n(he),ge=function(){return Object(re.jsx)("div",{className:me.a.main,children:Object(re.jsx)("img",{className:me.a.img,alt:"preloader",src:Oe})})},xe=n(119),ve=n(136),Se=Object(ve.a)((function(e){return e.usersPage.users}),(function(e){return e.map((function(e){return e}))})),Pe=function(e){return e.usersPage.pageSize},we=function(e){return e.usersPage.totalUsersCount},_e=function(e){return e.usersPage.currentPage},Ee=function(e){return e.usersPage.isFetching},Ue=function(e){return e.usersPage.followingProgress},Ne=function(e){return e.usersPage.filter},ye=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(J.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).OnClickPageHandler=function(t){var n=e.props,r=(n.currentPage,n.filter);e.props.getUsers(t,e.props.pageSize,r)},e.OnFilterHandler=function(t){var n=e.props,r=(n.currentPage,n.pageSize);e.props.getUsers(1,r,t)},e}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize,this.props.filter)}},{key:"render",value:function(){return Object(re.jsxs)(re.Fragment,{children:[this.props.isFetching?Object(re.jsx)(ge,{}):null,Object(re.jsx)(be,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,setCurrentPage:this.props.setCurrentPage,setUsers:this.props.setUsers,currentPage:this.props.currentPage,users:this.props.users,OnFilterHandler:this.OnFilterHandler,follow:this.props.follow,unfollow:this.props.unfollow,OnClickPageHandler:this.OnClickPageHandler,setFollowingInProgress:this.props.setFollowingInProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),Ce=Object(s.d)(Object(ce.b)((function(e){return{users:Se(e),pageSize:Pe(e),totalUsersCount:we(e),currentPage:_e(e),isFetching:Ee(e),followingInProgress:Ue(e),filter:Ne(e)}}),{follow:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(e,!0)),t.next=3,b(e);case 3:0===t.sent.data.resultCode&&n(U(e)),n(L(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(e,!0)),t.next=3,O(e);case 3:0===t.sent.data.resultCode&&n(N(e)),n(L(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:R,setUsers:y,setFollowingInProgress:L,getUsers:function(e,t,n){return function(){var r=Object(u.a)(o.a.mark((function r(a){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(T(!0)),a(R(e)),a(C(n)),r.next=5,f(e,t,n.term,n.friend);case 5:s=r.sent,a(T(!1)),a(y(s.items)),a({type:"USERS/SET-CURRENT-TOTAL-COUNT",totalCount:s.totalCount});case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}),xe.a)(ye),Re=n(69),Te=n.n(Re),Le=n(71),Fe=n.n(Le),Ie=n.p+"static/media/mountain.ed14195c.jpg",Ae=function(e){var t=Object(r.useState)(!1),n=Object(de.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(e.status),c=Object(de.a)(i,2),o=c[0],u=c[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);var l=function(){s(!1),e.updateStatus(o)};return Object(re.jsx)("div",{children:a?Object(re.jsx)("div",{children:Object(re.jsx)("input",{onKeyPress:function(e){13===e.charCode&&l()},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:l,value:o})}):Object(re.jsx)("div",{children:Object(re.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status})})})},ke=n.p+"static/media/img.61f53e90.png",De=function(e){if(!e.profile)return Object(re.jsx)(ge,{});return Object(re.jsxs)("div",{children:[Object(re.jsx)("img",{className:Fe.a.img,src:Ie,alt:""}),Object(re.jsxs)("div",{className:Fe.a.profile__wrapper,children:[Object(re.jsx)("h2",{children:"Name and Description"}),Object(re.jsx)(Ae,{status:e.status,updateStatus:e.updateStatus}),Object(re.jsx)("img",{alt:"some pic",className:Fe.a.image,src:e.profile.photos.large||ke}),e.isOwner&&Object(re.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(re.jsxs)("div",{children:[Object(re.jsxs)("b",{children:["About me: ",e.profile.aboutMe]})," "]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"No":"Yes"]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("b",{children:" My real name is"}),"  ",e.profile.fullName[0].toUpperCase()+e.profile.fullName.slice(1)]})]})]})},Me=n(94),He=n.n(Me),ze=n(72),Be=n.n(ze),We=n.p+"static/media/bird.5ea64365.jpg",Ge=function(e){return Object(re.jsxs)("div",{className:Be.a.post,children:[Object(re.jsx)("img",{className:Be.a.img,src:We,alt:""}),Object(re.jsxs)("div",{className:Be.a.wrap,children:[Object(re.jsxs)("div",{children:[e.message," "]}),Object(re.jsxs)("div",{children:["Likes ",e.likes]})]})]})},Ke=n(267),Ve=n(266),Je=n(39),Xe=n(120),qe=Object(Je.a)(15),Ze=a.a.memo((function(e){return Object(re.jsxs)("div",{className:He.a.posts,children:[Object(re.jsxs)("div",{className:He.a.main,children:[Object(re.jsx)("h2",{children:"My Posts"}),Object(re.jsx)(Ye,{onSubmit:function(t){t&&e.addPost(t.newPostText)}})]}),e.posts.map((function(e,t){return Object(re.jsx)(Ge,{message:e.message,likes:e.likesCount},t)}))]})})),Ye=Object(Ve.a)({form:"ProfileAddNewPost"})((function(e){return Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Ke.a,{name:"newPostText",component:Xe.a,validate:[Je.b,qe],placeholder:"Post message"})}),Object(re.jsx)("button",{children:"Add post"})]})})),Qe=Object(ce.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:"PROFILE/ADD-POST",newPostText:e}}(t))}}}))(Ze),$e=function(e){return Object(re.jsxs)("div",{className:Te.a.profile,children:[Object(re.jsx)(De,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(re.jsx)(Qe,{})]})},et=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="19115")||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(re.jsxs)("div",{className:Te.a.profile,children:[Object(re.jsx)($e,Object(d.a)(Object(d.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))," "]})}}]),n}(a.a.Component),tt=Object(s.d)(Object(ce.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getUserProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,n({type:"PROFILE/SET-USER-PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getStatus(e);case 2:r=t.sent,n(w(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"PROFILE/SET-PHOTO",photos:r.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Y.g)(et),nt=n.p+"static/media/dragon.5ce493a6.png",rt=n(74),at=n.n(rt),st=function(e){return Object(re.jsxs)("header",{className:at.a.header,children:[Object(re.jsx)("img",{className:at.a.img,src:nt,alt:""}),Object(re.jsx)("div",{className:at.a.auth,children:e.isAuth?Object(re.jsxs)("div",{children:[e.login," ",Object(re.jsx)("button",{onClick:e.loginOut,children:"Log out"})]}):Object(re.jsx)(ee.b,{to:"/login",children:"Login"})})]})},it=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){return Object(re.jsx)(st,Object(d.a)({},this.props))}}]),n}(a.a.Component),ct=Object(ce.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{loginOut:function(){return function(e){v().then((function(t){0===t.data.resultCode&&e(I(null,null,null,!1))}))}}})(it),ot=n(45),ut=n(46),lt=n.n(ut),dt=function(e){var t=e.input,n=e.meta,r=Object(ot.a)(e,["input","meta"]);return Object(re.jsxs)("div",{className:"".concat(lt.a.formControl," ").concat(n.touched&&n.error?lt.a.error:""),children:[Object(re.jsx)("div",{children:Object(re.jsx)("input",Object(d.a)(Object(d.a)({},t),r))}),n.touched&&n.error&&Object(re.jsx)("span",{children:n.error})]})},jt=Object(Ve.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.initialValues;return Object(re.jsxs)("form",{onSubmit:t,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Ke.a,{placeholder:"Login",name:"email",validate:[Je.b],component:dt})}),Object(re.jsx)("div",{children:Object(re.jsx)(Ke.a,{placeholder:"Password",validate:[Je.b],type:"password",name:"password",component:dt})}),Object(re.jsxs)("div",{children:[Object(re.jsx)(Ke.a,{component:dt,name:"rememberMe",type:"checkbox"}),"Remember Me"]}),n.captchaURL&&Object(re.jsx)("img",{alt:"capture",src:n.captchaURL}),n.captchaURL&&Object(re.jsx)(Ke.a,{placeholder:"Type text from captcha",component:dt,validate:[Je.b],name:"captcha",type:"input"}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Login"})})]})})),pt=Object(ce.b)((function(e){return{captchaURL:e.auth.captchaURL,isAuth:e.auth.isAuth}}),{login:function(e,t,n,r){return function(){var a=Object(u.a)(o.a.mark((function a(s){var i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x(e,t,n,r);case 2:i=a.sent,console.log("ee"+i.data.resultCode),0===i.data.resultCode&&s(k()),10===i.data.resultCode&&s(D());case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaURL;return n?Object(re.jsx)(Y.a,{to:"/profile"}):Object(re.jsxs)("div",{children:[Object(re.jsx)("h1",{children:"Login"}),Object(re.jsx)(jt,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},initialValues:{captchaURL:r}})]})})),ft=n(97),bt=n.n(ft),Ot=a.a.memo((function(){return Object(re.jsxs)("div",{children:[Object(re.jsx)("h2",{className:bt.a.title,children:"News"}),Object(re.jsx)("div",{className:bt.a.body})]})})),ht=n(98),mt=n.n(ht),gt=a.a.memo((function(){return Object(re.jsxs)("div",{children:[Object(re.jsx)("h2",{className:mt.a.title,children:"Music"}),Object(re.jsx)("div",{className:mt.a.body})]})})),xt=a.a.lazy((function(){return n.e(3).then(n.bind(null,273))})),vt=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(re.jsxs)("div",{className:"App",children:[Object(re.jsx)(ct,{}),Object(re.jsx)(ie,{}),Object(re.jsx)("div",{className:"profile",children:Object(re.jsxs)(Y.d,{children:[Object(re.jsx)(Y.b,{exact:!0,path:"/",render:function(){return Object(re.jsx)(Y.a,{to:"/profile"})}}),Object(re.jsx)(Y.b,{path:"/dialogs",render:function(){return Object(re.jsx)(r.Suspense,{fallback:Object(re.jsx)("div",{children:"Loading..."}),children:Object(re.jsx)(xt,{})})}}),Object(re.jsx)(Y.b,{path:"/profile/:userId?",render:function(){return Object(re.jsx)(tt,{})}}),Object(re.jsx)(Y.b,{path:"/users",render:function(){return Object(re.jsx)(Ce,{})}}),Object(re.jsx)(Y.b,{path:"/login",render:function(){return Object(re.jsx)(pt,{})}}),Object(re.jsx)(Y.b,{path:"/news",render:function(){return Object(re.jsx)(Ot,{})}}),Object(re.jsx)(Y.b,{path:"/music",render:function(){return Object(re.jsx)(gt,{})}})]})})]}):Object(re.jsx)(ge,{})}}]),n}(a.a.Component),St=Object(s.d)(Y.g,Object(ce.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(k());case 2:t({type:"INITIALIZED-SUCCESSES"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(vt),Pt=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,272)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};V.a.render(Object(re.jsx)(a.a.StrictMode,{children:Object(re.jsx)(ee.a,{children:Object(re.jsx)(ce.a,{store:G,children:Object(re.jsx)(St,{})})})}),document.getElementById("root")),Pt()},27:function(e,t,n){e.exports={nav:"Navbar_nav__2i0I_",menu:"Navbar_menu__3b9Ky",active:"Navbar_active__2kMfW",users:"Navbar_users__ruFIE"}},36:function(e,t,n){e.exports={main:"Friends_main__1XAM0",row:"Friends_row__35Bt8",item:"Friends_item__1Uooj",images:"Friends_images__2gbUq",name:"Friends_name__33fB7"}},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},46:function(e,t,n){e.exports={formControl:"Textarea_formControl__50Apl",error:"Textarea_error__2O4Pd"}},69:function(e,t,n){e.exports={profile:"Profile_profile__2LSn5"}},71:function(e,t,n){e.exports={img:"ProfileInfo_img__2lCOw",image:"ProfileInfo_image__2Jz3F",profile__wrapper:"ProfileInfo_profile__wrapper__F4K3S"}},72:function(e,t,n){e.exports={post:"Post_post__3wUTQ",wrap:"Post_wrap__bSfXB",img:"Post_img__2LJI8"}},74:function(e,t,n){e.exports={img:"Header_img__214aN",header:"Header_header__2xpWK"}},93:function(e,t,n){e.exports={main:"Preloader_main__1a-af",img:"Preloader_img__2tHPs"}},94:function(e,t,n){e.exports={posts:"MyPosts_posts__TOD2P",main:"MyPosts_main__2ptLK"}},97:function(e,t,n){},98:function(e,t,n){}},[[265,1,2]]]);
//# sourceMappingURL=main.2766ed2d.chunk.js.map