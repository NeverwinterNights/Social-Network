(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[0],{109:function(e,t,n){e.exports={profile:"Profile_profile__2LSn5"}},127:function(e,t,n){e.exports={img:"ProfileInfo_img__2lCOw",image:"ProfileInfo_image__2Jz3F",profile__wrapper:"ProfileInfo_profile__wrapper__F4K3S"}},128:function(e,t,n){e.exports={post:"Post_post__3wUTQ",wrap:"Post_wrap__bSfXB",img:"Post_img__2LJI8"}},144:function(e,t,n){e.exports={main:"Preloader_main__1a-af",img:"Preloader_img__2tHPs"}},145:function(e,t,n){e.exports={posts:"MyPosts_posts__TOD2P",main:"MyPosts_main__2ptLK"}},150:function(e,t,n){},151:function(e,t,n){},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(52),a=n(6),c=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}},s={dialogs:[{id:1,name:"Ivan"},{id:2,name:"Oleg"},{id:3,name:"Misha"},{id:4,name:"Petr"},{id:5,name:"Alex"}],messages:[{id:1,message:"Privet"},{id:2,message:"How are you"},{id:3,message:"Lets we meet"},{id:4,message:"No"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=Object(a.a)(Object(a.a)({},e),{},{messages:Object(r.a)(e.messages)}),c=t.newMessageBody;return n.messages.push({id:5,message:c}),n;default:return e}}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(105),c=(n(0),n(81)),s=n.n(c),i=n(1),o=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]);return Object(i.jsxs)("div",{className:"".concat(s.a.formControl," ").concat(n.touched&&n.error?s.a.error:""),children:[Object(i.jsx)("div",{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},t),c))}),n.touched&&n.error&&Object(i.jsx)("span",{children:n.error})]})}},219:function(e,t,n){},301:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=(n(219),n(16)),s=n(157),i=n(14),o=n.n(i),u=n(25),l=n(52),j=n(6),d=n(189),b=n.n(d).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7c38f700-eae7-4224-81a9-9392ebf67fbb"}}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},p=function(e){return b.post("follow/".concat(e))},O=function(e){return b.delete("follow/".concat(e))},h=function(e){return m.getProfile(e)},m={getProfile:function(e){return b.get("profile/"+e)},getStatus:function(e){return b.get("profile/status/"+e)},updateStatus:function(e){return b.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),b.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})}},x=function(){return b.get("auth/me")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},v=function(){return b.delete("auth/login")},S=function(){return b.get("security/get-captcha-url")},E={posts:[{id:1,message:"Hello",likesCount:8},{id:2,message:"How are you?",likesCount:15},{id:3,message:"Where are you?",likesCount:50}],profile:null,status:""},P=function(e){return{type:"PROFILE/SET-STATUS",status:e}},w={friends:[{name:"Ivan"},{name:"Oleg"},{name:"Petr"},{name:"Vasa"},{name:"Sergei"},{name:"Margo"}]},_={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingProgress:[],filter:{term:"",friend:null}},y=function(e){return{type:"USERS/FOLLOW",userID:e}},R=function(e){return{type:"USERS/UNFOLLOW",userID:e}},U=function(e){return{type:"USERS/SET-FILTER",payload:e}},N=function(e){return{type:"USERS/SET-CURRENT-PAGE",currentPage:e}},T=function(e){return{type:"USERS/SET-PRELOADER",isFetching:e}},C=function(e,t){return{type:"USERS/FOLLOWING-IN-PROGRESS",userID:e,isFetching:t}},L=function(e,t,n){return function(){var r=Object(u.a)(o.a.mark((function r(a){var c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(T(!0)),a(N(e)),a(U(n)),r.next=5,f(e,t,n.term,n.friend);case 5:c=r.sent,a(T(!1)),a({type:"USERS/SET-USERS",users:c.items}),a({type:"USERS/SET-CURRENT-TOTAL-COUNT",totalCount:c.totalCount});case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},I={id:2,email:null,login:null,isAuth:!1,captchaURL:null},k=function(e,t,n,r){return{type:"AUTH/SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:r}}},F=function(e){return{type:"AUTH/SET-CAPTCHA-URL",payload:{captchaURL:e}}},A=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,s=r.login,t(k(a,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:n=e.sent,r=n.data.url,t(F(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(t){return e.apply(this,arguments)}}()},M=n(190),H=n(358),z={initialized:!1},G=null,V=function(){setTimeout(W,3e3)},W=function(){var e,t;null===(e=G)||void 0===e||e.removeEventListener("close",V),null===(t=G)||void 0===t||t.close(),(G=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("message",B),G.addEventListener("close",V)},B=function(e){var t=JSON.parse(e.data);K.forEach((function(e){return e(t)}))},K=[],J=function(){W()},X=function(){var e,t,n;null===(e=G)||void 0===e||e.removeEventListener("close",V),null===(t=G)||void 0===t||t.close(),null===(n=G)||void 0===n||n.removeEventListener("message",B),K=[]},Y=function(e){return K.push(e),function(){K=K.filter((function(t){return t!==e}))}},Z=function(e){K=K.filter((function(t){return t!==e}))},q=function(e){var t;null===(t=G)||void 0===t||t.send(e)},Q={messages:[]},$=function(e){return function(t){e({type:"MESSAGES-RECEIVED",payload:{messages:t}})}},ee=Object(c.c)({dialogsPage:s.b,profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"PROFILE/ADD-POST":return Object(j.a)(Object(j.a)({},e),{},{posts:[{id:5,message:t.newPostText,likesCount:0}].concat(Object(l.a)(e.posts))});case"PROFILE/SET-USER-PROFILE":return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case"PROFILE/DELETE-POST":return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case"PROFILE/SET-PHOTO":return Object(j.a)(Object(j.a)({},e),{},{profile:e.profile?Object(j.a)({},e.profile):null});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case"USERS/UNFOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case"USERS/SET-USERS":return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case"USERS/SET-CURRENT-PAGE":return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET-CURRENT-TOTAL-COUNT":return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET-PRELOADER":return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case"USERS/FOLLOWING-IN-PROGRESS":return Object(j.a)(Object(j.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(l.a)(e.followingProgress),[t.userID]):e.followingProgress.filter((function(e){return e!==t.userID}))});case"USERS/SET-FILTER":return Object(j.a)(Object(j.a)({},e),{},{filter:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":case"AUTH/SET-CAPTCHA-URL":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},form:H.a,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESSES":return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGES-RECEIVED":return Object(j.a)(Object(j.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),Object(l.a)(t.payload.messages))});default:return e}}}),te=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,ne=Object(c.e)(ee,te(Object(c.a)(M.a)));window.store=ne;var re=n(31),ae=n.n(re),ce=n(107),se=n(108),ie=n(126),oe=n(124),ue=(n(301),n(302),n(10)),le=n.p+"static/media/3.b98a8c76.svg",je=n(144),de=n.n(je),be=n(1),fe=function(){return Object(be.jsx)("div",{className:de.a.main,children:Object(be.jsx)("img",{className:de.a.img,alt:"preloader",src:le})})},pe=n(22),Oe=n(18),he=n(351),me=n(350),xe=n(360),ge=n(361),ve=n(109),Se=n.n(ve),Ee=n(127),Pe=n.n(Ee),we=n.p+"static/media/mountain.ed14195c.jpg",_e=n(62),ye=function(e){var t=Object(r.useState)(!1),n=Object(_e.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.status),i=Object(_e.a)(s,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);var l=function(){c(!1),e.updateStatus(o)};return Object(be.jsx)("div",{children:a?Object(be.jsx)("div",{children:Object(be.jsx)("input",{onKeyPress:function(e){13===e.charCode&&l()},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:l,value:o})}):Object(be.jsx)("div",{children:Object(be.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status})})})},Re=n.p+"static/media/img.61f53e90.png",Ue=function(e){if(!e.profile)return Object(be.jsx)(fe,{});return Object(be.jsxs)("div",{children:[Object(be.jsx)("img",{className:Pe.a.img,src:we,alt:""}),Object(be.jsxs)("div",{className:Pe.a.profile__wrapper,children:[Object(be.jsx)("h2",{children:"Name and Description"}),Object(be.jsx)(ye,{status:e.status,updateStatus:e.updateStatus}),Object(be.jsx)("img",{alt:"some pic",className:Pe.a.image,src:e.profile.photos.large||Re}),e.isOwner&&Object(be.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(be.jsxs)("div",{children:[Object(be.jsxs)("b",{children:["About me: ",e.profile.aboutMe]})," "]}),Object(be.jsxs)("div",{children:[Object(be.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"No":"Yes"]}),Object(be.jsxs)("div",{children:[Object(be.jsx)("b",{children:" My real name is"}),"  ",e.profile.fullName[0].toUpperCase()+e.profile.fullName.slice(1)]})]})]})},Ne=n(145),Te=n.n(Ne),Ce=n(128),Le=n.n(Ce),Ie=n.p+"static/media/bird.5ea64365.jpg",ke=function(e){return Object(be.jsxs)("div",{className:Le.a.post,children:[Object(be.jsx)("img",{className:Le.a.img,src:Ie,alt:""}),Object(be.jsxs)("div",{className:Le.a.wrap,children:[Object(be.jsxs)("div",{children:[e.message," "]}),Object(be.jsxs)("div",{children:["Likes ",e.likes]})]})]})},Fe=n(354),Ae=n(352),De=n(66),Me=n(177),He=Object(De.a)(15),ze=a.a.memo((function(e){return Object(be.jsxs)("div",{className:Te.a.posts,children:[Object(be.jsxs)("div",{className:Te.a.main,children:[Object(be.jsx)("h2",{children:"My Posts"}),Object(be.jsx)(Ge,{onSubmit:function(t){t&&e.addPost(t.newPostText)}})]}),e.posts.map((function(e,t){return Object(be.jsx)(ke,{message:e.message,likes:e.likesCount},t)}))]})})),Ge=Object(Ae.a)({form:"ProfileAddNewPost"})((function(e){return Object(be.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(be.jsx)("div",{children:Object(be.jsx)(Fe.a,{name:"newPostText",component:Me.a,validate:[De.b,He],placeholder:"Post message"})}),Object(be.jsx)("button",{children:"Add post"})]})})),Ve=Object(ue.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:"PROFILE/ADD-POST",newPostText:e}}(t))}}}))(ze),We=function(e){return Object(be.jsxs)("div",{className:Se.a.profile,children:[Object(be.jsx)(Ue,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(be.jsx)(Ve,{})]})},Be=function(e){Object(ie.a)(n,e);var t=Object(oe.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(se.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="19115")||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(be.jsx)("div",{className:Se.a.profile,children:Object(be.jsx)(We,Object(j.a)(Object(j.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),n}(a.a.Component),Ke=Object(c.d)(Object(ue.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getUserProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,n({type:"PROFILE/SET-USER-PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getStatus(e);case 2:r=t.sent,n(P(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(P(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"PROFILE/SET-PHOTO",photos:r.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Oe.h)(Be),Je=n(105),Xe=n(81),Ye=n.n(Xe),Ze=function(e){var t=e.input,n=e.meta,r=Object(Je.a)(e,["input","meta"]);return Object(be.jsxs)("div",{className:"".concat(Ye.a.formControl," ").concat(n.touched&&n.error?Ye.a.error:""),children:[Object(be.jsx)("div",{children:Object(be.jsx)("input",Object(j.a)(Object(j.a)({},t),r))}),n.touched&&n.error&&Object(be.jsx)("span",{children:n.error})]})},qe=Object(Ae.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.initialValues;return Object(be.jsxs)("form",{onSubmit:t,children:[Object(be.jsx)("div",{children:Object(be.jsx)(Fe.a,{placeholder:"Login",name:"email",validate:[De.b],component:Ze})}),Object(be.jsx)("div",{children:Object(be.jsx)(Fe.a,{placeholder:"Password",validate:[De.b],type:"password",name:"password",component:Ze})}),Object(be.jsxs)("div",{children:[Object(be.jsx)(Fe.a,{component:Ze,name:"rememberMe",type:"checkbox"}),"Remember Me"]}),n.captchaURL&&Object(be.jsx)("img",{alt:"capture",src:n.captchaURL}),n.captchaURL&&Object(be.jsx)(Fe.a,{placeholder:"Type text from captcha",component:Ze,validate:[De.b],name:"captcha",type:"input"}),Object(be.jsx)("div",{children:Object(be.jsx)("button",{children:"Login"})})]})})),Qe=function(){var e=Object(ue.d)((function(e){return e.auth.captchaURL})),t=Object(ue.d)((function(e){return e.auth.isAuth})),n=Object(ue.c)();return t?Object(be.jsx)(Oe.a,{to:"/profile"}):Object(be.jsxs)("div",{children:[Object(be.jsx)("h1",{children:"Login"}),Object(be.jsx)(qe,{onSubmit:function(e){var t,r,a,c;n((t=e.email,r=e.password,a=e.rememberMe,c=e.captcha,function(){var e=Object(u.a)(o.a.mark((function e(n){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,r,a,c);case 2:0===(s=e.sent).data.resultCode&&n(A()),10===s.data.resultCode&&n(D());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{captchaURL:e}})]})},$e=n(150),et=n.n($e),tt=a.a.memo((function(){return Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{className:et.a.title,children:"News"}),Object(be.jsx)("div",{className:et.a.body})]})})),nt=n(151),rt=n.n(nt),at=a.a.memo((function(){return Object(be.jsxs)("div",{children:[Object(be.jsx)("h2",{className:rt.a.title,children:"Music"}),Object(be.jsx)("div",{className:rt.a.body})]})})),ct=n(37),st=n.n(ct),it=n.p+"static/media/neand.5e875fa6.png",ot=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,c=e.OnPageHandler,s=e.portionSize,i=void 0===s?10:s,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var j=Math.ceil(o/i),d=Object(r.useState)(1),b=Object(_e.a)(d,2),f=b[0],p=b[1],O=(f-1)*i+1,h=f*i;return Object(be.jsx)("div",{className:st.a.main,children:Object(be.jsxs)("div",{className:st.a.pagination_wrapper,children:[f>1&&Object(be.jsx)("button",{onClick:function(){p(f-1)},children:"PREV"}),u.filter((function(e){return e>=O&&e<=h})).map((function(e){return Object(be.jsx)("span",{className:a===e?st.a.selectedPage:"",onClick:function(){c(e)},children:e},e)})),j>f&&Object(be.jsx)("button",{onClick:function(){p(f+1)},children:"NEXT"})]})})},ut=n(93),lt=a.a.memo((function(e){var t=Object(ue.d)((function(e){return e.usersPage.filter}));return Object(be.jsx)("div",{children:Object(be.jsx)(ut.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:function(e){return{}},onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.OnFilterHandler(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(be.jsxs)(ut.b,{children:[Object(be.jsx)(ut.a,{type:"text",name:"term"}),Object(be.jsxs)(ut.a,{name:"friend",as:"select",children:[Object(be.jsx)("option",{value:"null",children:"All"}),Object(be.jsx)("option",{value:"true",children:"Only Followed"}),Object(be.jsx)("option",{value:"false",children:"UnFollowed"})]}),Object(be.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),jt=n(213),dt=(Object(jt.a)((function(e){return e.usersPage.users}),(function(e){return e.map((function(e){return e}))})),function(e){return e.usersPage.pageSize}),bt=function(e){return e.usersPage.currentPage},ft=n(194),pt=function(){var e=Object(ue.c)(),t=Object(Oe.g)(),n=Object(ue.d)((function(e){return e.usersPage.totalUsersCount})),a=Object(ue.d)(bt),c=Object(ue.d)(dt),s=Object(ue.d)((function(e){return e.usersPage.filter})),i=Object(ue.d)((function(e){return e.usersPage.users})),l=Object(ue.d)((function(e){return e.usersPage.followingProgress}));Object(r.useEffect)((function(){var n=t.location.search,r=ft.parse(n.substr(1)),i=a,o=s;r.page&&(i=+r.page),r.term&&(o=Object(j.a)(Object(j.a)({},o),{},{term:r.term})),r.friend&&(o=Object(j.a)(Object(j.a)({},o),{},{friend:"null"===r.friend?null:"true"===r.friend})),e(L(i,c,o))}),[]),Object(r.useEffect)((function(){t.push({pathname:"/users",search:"?term=".concat(s.term,"&friend=").concat(s.friend,"&page=").concat(a)})}),[s,a]);var d=function(t){e(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C(e,!0)),t.next=3,p(e);case 3:0===t.sent.data.resultCode&&n(y(e)),n(C(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},b=function(t){e(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C(e,!0)),t.next=3,O(e);case 3:0===t.sent.data.resultCode&&n(R(e)),n(C(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(be.jsxs)("div",{className:st.a.main,children:[Object(be.jsx)(lt,{OnFilterHandler:function(t){e(L(1,c,t))}}),Object(be.jsx)(ot,{currentPage:a,OnPageHandler:function(t){e(L(t,c,s))},totalUsersCount:n,pageSize:c,portionSize:10}),i.map((function(e){return Object(be.jsx)("div",{className:st.a.item,children:Object(be.jsxs)("span",{children:[Object(be.jsx)("div",{children:Object(be.jsx)(pe.b,{to:"/profile/"+e.id,children:Object(be.jsx)("img",{className:st.a.image,src:null!==e.photos.small?e.photos.small:it,alt:""})})}),Object(be.jsxs)("div",{className:st.a.follow,children:[" ",e.followed?Object(be.jsx)("button",{disabled:l.some((function(t){return t===e.id})),onClick:function(){b(e.id)},children:"Unfollow"}):Object(be.jsx)("button",{disabled:l.some((function(t){return t===e.id})),onClick:function(){d(e.id)},children:"Follow"})]}),Object(be.jsx)("span",{children:Object(be.jsxs)("div",{className:st.a.wrap,children:[Object(be.jsx)("span",{className:st.a.desc,children:"Name"})," ",Object(be.jsx)("div",{className:st.a.name,children:e.name})]})})]})},e.id)}))]})},Ot=a.a.memo((function(){var e=Object(ue.d)((function(e){return e.usersPage.isFetching}));return Object(be.jsxs)(be.Fragment,{children:[e?Object(be.jsx)(fe,{}):null,Object(be.jsx)(pt,{})]})})),ht=n(357),mt=n(359),xt=n(356),gt=n(355),vt=function(){var e=Object(ue.d)((function(e){return e.auth.isAuth})),t=Object(ue.d)((function(e){return e.auth.login})),n=Object(ue.c)(),r=me.a.Header;return Object(be.jsxs)(r,{className:"header",children:[Object(be.jsx)("div",{className:"logo"}),Object(be.jsxs)(ht.a,{children:[Object(be.jsx)(mt.a,{span:18,children:Object(be.jsx)(he.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/users",children:"Users"})},"1")})}),e?Object(be.jsxs)(be.Fragment,{children:[" ",Object(be.jsx)(mt.a,{span:1,children:Object(be.jsx)(xt.a,{alt:t||"",style:{backgroundColor:"#87d068"},icon:Object(be.jsx)(xe.a,{})})}),Object(be.jsx)(mt.a,{span:5,children:Object(be.jsx)(gt.a,{onClick:function(){n((function(e){v().then((function(t){0===t.data.resultCode&&e(k(null,null,null,!1))}))}))},children:"Log out"})})]}):Object(be.jsx)(mt.a,{span:6,children:Object(be.jsx)(gt.a,{children:Object(be.jsx)(pe.b,{to:"/login",children:"Login"})})})]})]})},St=n(70),Et=n.n(St),Pt=a.a.memo((function(e){var t=e.messageData,n=t.message,r=t.photo,a=(t.userId,t.userName);return Object(be.jsxs)("div",{className:Et.a.wrapper,children:[Object(be.jsxs)("div",{className:Et.a.info,children:[Object(be.jsx)("img",{className:Et.a.image,src:r,alt:"ava"}),Object(be.jsx)("div",{className:Et.a.author,children:a})]}),Object(be.jsx)("div",{className:Et.a.block,children:Object(be.jsx)("div",{className:Et.a.message,children:n})})]})})),wt=a.a.memo((function(){return Object(be.jsx)(be.Fragment,{children:Object(be.jsx)(_t,{})})})),_t=a.a.memo((function(){var e=Object(ue.c)();return Object(r.useEffect)((function(){return e((function(e){J(),Y($(e))})),function(){e((function(e){Z($(e)),X()}))}}),[]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(yt,{}),Object(be.jsx)(Rt,{})]})})),yt=a.a.memo((function(){var e=Object(ue.d)((function(e){return e.chatReducer.messages}));return Object(be.jsx)("div",{style:{height:"500px",overflowY:"auto"},children:e.map((function(e,t){return Object(be.jsx)(Pt,{messageData:e},t)}))})})),Rt=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(_e.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)("pending"),s=Object(_e.a)(c,2),i=(s[0],s[1],Object(ue.c)());return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{children:Object(be.jsx)("textarea",{onChange:function(e){return a(e.currentTarget.value)},value:n})}),Object(be.jsx)("button",{onClick:function(){n&&(i(function(e){return function(t){q(e)}}(n)),a(""))},children:"Send"})]})})),Ut=he.a.SubMenu,Nt=me.a.Content,Tt=me.a.Footer,Ct=me.a.Sider,Lt=a.a.lazy((function(){return n.e(3).then(n.bind(null,366))})),It=function(e){Object(ie.a)(n,e);var t=Object(oe.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(se.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(be.jsxs)(me.a,{className:"App",children:[Object(be.jsx)(vt,{}),Object(be.jsx)(Nt,{style:{padding:"0 50px"},children:Object(be.jsxs)(me.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(be.jsx)(Ct,{className:"site-layout-background",width:200,children:Object(be.jsxs)(he.a,{mode:"inline",defaultOpenKeys:["sub1"],style:{height:"100%"},children:[Object(be.jsxs)(Ut,{icon:Object(be.jsx)(xe.a,{}),title:"My Profile",children:[Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/profile",children:"Profile"})},"1"),Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/dialogs",children:"Dialogs"})},"2"),Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/news",children:"News"})},"3"),Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/music",children:"Music"})},"4")]},"sub1"),Object(be.jsx)(Ut,{icon:Object(be.jsx)(ge.a,{}),title:"Users",children:Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/users",children:"Users"})},"5")},"sub2"),Object(be.jsx)(Ut,{icon:Object(be.jsx)(ge.a,{}),title:"ChatPage",children:Object(be.jsx)(he.a.Item,{children:Object(be.jsx)(pe.b,{to:"/chat",children:"ChatPage"})},"6")},"sub3")]})}),Object(be.jsx)(Nt,{style:{padding:"0 24px",minHeight:280},children:Object(be.jsxs)(Oe.d,{children:[Object(be.jsx)(Oe.b,{exact:!0,path:"/",render:function(){return Object(be.jsx)(Oe.a,{to:"/profile"})}}),Object(be.jsx)(Oe.b,{path:"/dialogs",render:function(){return Object(be.jsx)(r.Suspense,{fallback:Object(be.jsx)("div",{children:"Loading..."}),children:Object(be.jsx)(Lt,{})})}}),Object(be.jsx)(Oe.b,{path:"/profile/:userId?",render:function(){return Object(be.jsx)(Ke,{})}}),Object(be.jsx)(Oe.b,{path:"/users",render:function(){return Object(be.jsx)(Ot,{})}}),Object(be.jsx)(Oe.b,{path:"/login",render:function(){return Object(be.jsx)(Qe,{})}}),Object(be.jsx)(Oe.b,{path:"/news",render:function(){return Object(be.jsx)(tt,{})}}),Object(be.jsx)(Oe.b,{path:"/music",render:function(){return Object(be.jsx)(at,{})}}),Object(be.jsx)(Oe.b,{path:"/chat",render:function(){return Object(be.jsx)(wt,{})}}),Object(be.jsx)(Oe.b,{path:"*",render:function(){return Object(be.jsx)("div",{children:"Page not found"})}})]})})]})}),Object(be.jsx)(Tt,{style:{textAlign:"center"},children:"Pacavaca Design"})]}):Object(be.jsx)(fe,{})}}]),n}(a.a.Component),kt=Object(c.d)(Oe.h,Object(ue.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(A());case 2:t({type:"INITIALIZED-SUCCESSES"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(It),Ft=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,365)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};ae.a.render(Object(be.jsx)(pe.a,{children:Object(be.jsx)(ue.a,{store:ne,children:Object(be.jsx)(kt,{})})}),document.getElementById("root")),Ft()},37:function(e,t,n){e.exports={main:"Users_main__pqh2t",image:"Users_image__10RV9",pagination_wrapper:"Users_pagination_wrapper__2wLc9",selectedPage:"Users_selectedPage__ohqD6",desc:"Users_desc__3xwRZ",name:"Users_name__2HBzu",wrap:"Users_wrap__KN6ow",follow:"Users_follow__2ZzmM",item:"Users_item__3-SSA"}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},70:function(e,t,n){e.exports={image:"Message_image__nf1Sl",wrapper:"Message_wrapper__2jrxo",message:"Message_message__1Vebs",author:"Message_author__3G6Yj",info:"Message_info__17MWL"}},81:function(e,t,n){e.exports={formControl:"Textarea_formControl__50Apl",error:"Textarea_error__2O4Pd"}}},[[348,1,2]]]);
//# sourceMappingURL=main.9b67d92f.chunk.js.map