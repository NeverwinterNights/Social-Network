(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(43),a=n(3),s=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}},c={dialogs:[{id:1,name:"Ivan"},{id:2,name:"Oleg"},{id:3,name:"Misha"},{id:4,name:"Petr"},{id:5,name:"Alex"}],messages:[{id:1,message:"Privet"},{id:2,message:"How are you"},{id:3,message:"Lets we meet"},{id:4,message:"No"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=Object(a.a)(Object(a.a)({},e),{},{messages:Object(r.a)(e.messages)}),s=t.newMessageBody;return n.messages.push({id:5,message:s}),n;default:return e}}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(65),s=(n(0),n(45)),c=n.n(s),i=n(1),o=function(e){var t=e.input,n=e.meta,s=Object(a.a)(e,["input","meta"]);return Object(i.jsxs)("div",{className:"".concat(c.a.formControl," ").concat(n.touched&&n.error?c.a.error:""),children:[Object(i.jsx)("div",{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},t),s))}),n.touched&&n.error&&Object(i.jsx)("span",{children:n.error})]})}},137:function(e,t,n){},21:function(e,t,n){e.exports={main:"Users_main__pqh2t",image:"Users_image__10RV9",pagination_wrapper:"Users_pagination_wrapper__2wLc9",selectedPage:"Users_selectedPage__ohqD6",desc:"Users_desc__3xwRZ",name:"Users_name__2HBzu",wrap:"Users_wrap__KN6ow",follow:"Users_follow__2ZzmM",item:"Users_item__3-SSA"}},220:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=(n(137),n(10)),c=n(100),i=n(9),o=n.n(i),u=n(15),l=n(43),j=n(3),d=n(130),p=n.n(d).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7c38f700-eae7-4224-81a9-9392ebf67fbb"}}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},b=function(e){return p.post("follow/".concat(e))},O=function(e){return p.delete("follow/".concat(e))},h=function(e){return m.getProfile(e)},m={getProfile:function(e){return p.get("profile/"+e)},getStatus:function(e){return p.get("profile/status/"+e)},updateStatus:function(e){return p.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),p.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})}},x=function(){return p.get("auth/me")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return p.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},v=function(){return p.delete("auth/login")},S=function(){return p.get("security/get-captcha-url")},_={posts:[{id:1,message:"Hello",likesCount:8},{id:2,message:"How are you?",likesCount:15},{id:3,message:"Where are you?",likesCount:50}],profile:null,status:""},P=function(e){return{type:"PROFILE/SET-STATUS",status:e}},w={friends:[{name:"Ivan"},{name:"Oleg"},{name:"Petr"},{name:"Vasa"},{name:"Sergei"},{name:"Margo"}]},E={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingProgress:[],filter:{term:"",friend:null}},N=function(e){return{type:"USERS/FOLLOW",userID:e}},y=function(e){return{type:"USERS/UNFOLLOW",userID:e}},U=function(e){return{type:"USERS/SET-FILTER",payload:e}},R=function(e){return{type:"USERS/SET-CURRENT-PAGE",currentPage:e}},T=function(e){return{type:"USERS/SET-PRELOADER",isFetching:e}},C=function(e,t){return{type:"USERS/FOLLOWING-IN-PROGRESS",userID:e,isFetching:t}},L=function(e,t,n){return function(){var r=Object(u.a)(o.a.mark((function r(a){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(T(!0)),a(R(e)),a(U(n)),r.next=5,f(e,t,n.term,n.friend);case 5:s=r.sent,a(T(!1)),a({type:"USERS/SET-USERS",users:s.items}),a({type:"USERS/SET-CURRENT-TOTAL-COUNT",totalCount:s.totalCount});case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},F={id:2,email:null,login:null,isAuth:!1,captchaURL:null},I=function(e,t,n,r){return{type:"AUTH/SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:r}}},A=function(e){return{type:"AUTH/SET-CAPTCHA-URL",payload:{captchaURL:e}}},k=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.email,c=r.login,t(I(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:n=e.sent,r=n.data.url,t(A(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(t){return e.apply(this,arguments)}}()},M=n(131),H=n(267),z={initialized:!1},B=Object(s.c)({dialogsPage:c.b,profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case"PROFILE/ADD-POST":return Object(j.a)(Object(j.a)({},e),{},{posts:[{id:5,message:t.newPostText,likesCount:0}].concat(Object(l.a)(e.posts))});case"PROFILE/SET-USER-PROFILE":return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case"PROFILE/DELETE-POST":return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case"PROFILE/SET-PHOTO":return Object(j.a)(Object(j.a)({},e),{},{profile:e.profile?Object(j.a)({},e.profile):null});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case"USERS/UNFOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case"USERS/SET-USERS":return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case"USERS/SET-CURRENT-PAGE":return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET-CURRENT-TOTAL-COUNT":return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET-PRELOADER":return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});case"USERS/FOLLOWING-IN-PROGRESS":return Object(j.a)(Object(j.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(l.a)(e.followingProgress),[t.userID]):e.followingProgress.filter((function(e){return e!==t.userID}))});case"USERS/SET-FILTER":return Object(j.a)(Object(j.a)({},e),{},{filter:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":case"AUTH/SET-CAPTCHA-URL":return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},form:H.a,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESSES":return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}}}),W=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,G=Object(s.e)(B,W(Object(s.a)(M.a)));window.store=G;var K=n(64),V=n.n(K),J=n(38),X=n(39),q=n(44),Z=n(42),Y=(n(220),n(11)),Q=n(27),$=n.n(Q),ee=n(14),te=n(32),ne=n.n(te),re=n(1),ae=function(e){return Object(re.jsxs)("div",{className:ne.a.item,children:[Object(re.jsx)("div",{className:ne.a.images,children:Object(re.jsx)("img",{className:ne.a.image,src:"https://www.film.ru/sites/default/files/news/44976246-1097247.jpg",alt:""})}),Object(re.jsx)("div",{className:ne.a.name,children:Object(re.jsx)("span",{children:e.name})})]})},se=function(e){return Object(re.jsxs)("div",{className:ne.a.main,children:[Object(re.jsx)("h3",{children:"Best Friends"}),Object(re.jsx)("div",{className:ne.a.row,children:e.names.map((function(e,t){return Object(re.jsx)(ae,{name:e.name},t)}))})]})},ce=function(e){return Object(re.jsxs)("nav",{className:$.a.nav,children:[Object(re.jsxs)("div",{className:$.a.menu,children:[Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/profile",children:"Profile"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/dialogs",children:"Dialogs"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/news",children:"News"})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{activeClassName:$.a.active,to:"/music",children:"Music"})})]}),Object(re.jsx)("div",{className:$.a.friends,children:Object(re.jsx)(se,{names:G.getState().sidebar.friends})}),Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{className:$.a.users,activeClassName:$.a.active,to:"/users",children:"Users"})})]})},ie=n(67),oe=n.n(ie),ue=n(71),le=n.n(ue),je=n.p+"static/media/mountain.ed14195c.jpg",de=n.p+"static/media/3.b98a8c76.svg",pe=n(93),fe=n.n(pe),be=function(){return Object(re.jsx)("div",{className:fe.a.main,children:Object(re.jsx)("img",{className:fe.a.img,alt:"preloader",src:de})})},Oe=n(53),he=function(e){var t=Object(r.useState)(!1),n=Object(Oe.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(e.status),i=Object(Oe.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);var l=function(){s(!1),e.updateStatus(o)};return Object(re.jsx)("div",{children:a?Object(re.jsx)("div",{children:Object(re.jsx)("input",{onKeyPress:function(e){13===e.charCode&&l()},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:l,value:o})}):Object(re.jsx)("div",{children:Object(re.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status})})})},me=n.p+"static/media/img.61f53e90.png",xe=function(e){if(!e.profile)return Object(re.jsx)(be,{});return Object(re.jsxs)("div",{children:[Object(re.jsx)("img",{className:le.a.img,src:je,alt:""}),Object(re.jsxs)("div",{className:le.a.profile__wrapper,children:[Object(re.jsx)("h2",{children:"Name and Description"}),Object(re.jsx)(he,{status:e.status,updateStatus:e.updateStatus}),Object(re.jsx)("img",{alt:"some pic",className:le.a.image,src:e.profile.photos.large||me}),e.isOwner&&Object(re.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(re.jsxs)("div",{children:[Object(re.jsxs)("b",{children:["About me: ",e.profile.aboutMe]})," "]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"No":"Yes"]}),Object(re.jsxs)("div",{children:[Object(re.jsx)("b",{children:" My real name is"}),"  ",e.profile.fullName[0].toUpperCase()+e.profile.fullName.slice(1)]})]})]})},ge=n(94),ve=n.n(ge),Se=n(72),_e=n.n(Se),Pe=n.p+"static/media/bird.5ea64365.jpg",we=function(e){return Object(re.jsxs)("div",{className:_e.a.post,children:[Object(re.jsx)("img",{className:_e.a.img,src:Pe,alt:""}),Object(re.jsxs)("div",{className:_e.a.wrap,children:[Object(re.jsxs)("div",{children:[e.message," "]}),Object(re.jsxs)("div",{children:["Likes ",e.likes]})]})]})},Ee=n(266),Ne=n(265),ye=n(35),Ue=n(119),Re=Object(ye.a)(15),Te=a.a.memo((function(e){return Object(re.jsxs)("div",{className:ve.a.posts,children:[Object(re.jsxs)("div",{className:ve.a.main,children:[Object(re.jsx)("h2",{children:"My Posts"}),Object(re.jsx)(Ce,{onSubmit:function(t){t&&e.addPost(t.newPostText)}})]}),e.posts.map((function(e,t){return Object(re.jsx)(we,{message:e.message,likes:e.likesCount},t)}))]})})),Ce=Object(Ne.a)({form:"ProfileAddNewPost"})((function(e){return Object(re.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Ee.a,{name:"newPostText",component:Ue.a,validate:[ye.b,Re],placeholder:"Post message"})}),Object(re.jsx)("button",{children:"Add post"})]})})),Le=n(7),Fe=Object(Le.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:"PROFILE/ADD-POST",newPostText:e}}(t))}}}))(Te),Ie=function(e){return Object(re.jsxs)("div",{className:oe.a.profile,children:[Object(re.jsx)(xe,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(re.jsx)(Fe,{})]})},Ae=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="19115")||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(re.jsxs)("div",{className:oe.a.profile,children:[Object(re.jsx)(Ie,Object(j.a)(Object(j.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))," "]})}}]),n}(a.a.Component),ke=Object(s.d)(Object(Le.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getUserProfile:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,n({type:"PROFILE/SET-USER-PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getStatus(e);case 2:r=t.sent,n(P(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(P(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"PROFILE/SET-PHOTO",photos:r.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Y.g)(Ae),De=n.p+"static/media/dragon.5ce493a6.png",Me=n(74),He=n.n(Me),ze=function(e){return Object(re.jsxs)("header",{className:He.a.header,children:[Object(re.jsx)("img",{className:He.a.img,src:De,alt:""}),Object(re.jsx)("div",{className:He.a.auth,children:e.isAuth?Object(re.jsxs)("div",{children:[e.login," ",Object(re.jsx)("button",{onClick:e.loginOut,children:"Log out"})]}):Object(re.jsx)(ee.b,{to:"/login",children:"Login"})})]})},Be=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"render",value:function(){return Object(re.jsx)(ze,Object(j.a)({},this.props))}}]),n}(a.a.Component),We=Object(Le.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{loginOut:function(){return function(e){v().then((function(t){0===t.data.resultCode&&e(I(null,null,null,!1))}))}}})(Be),Ge=n(65),Ke=n(45),Ve=n.n(Ke),Je=function(e){var t=e.input,n=e.meta,r=Object(Ge.a)(e,["input","meta"]);return Object(re.jsxs)("div",{className:"".concat(Ve.a.formControl," ").concat(n.touched&&n.error?Ve.a.error:""),children:[Object(re.jsx)("div",{children:Object(re.jsx)("input",Object(j.a)(Object(j.a)({},t),r))}),n.touched&&n.error&&Object(re.jsx)("span",{children:n.error})]})},Xe=Object(Ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.initialValues;return Object(re.jsxs)("form",{onSubmit:t,children:[Object(re.jsx)("div",{children:Object(re.jsx)(Ee.a,{placeholder:"Login",name:"email",validate:[ye.b],component:Je})}),Object(re.jsx)("div",{children:Object(re.jsx)(Ee.a,{placeholder:"Password",validate:[ye.b],type:"password",name:"password",component:Je})}),Object(re.jsxs)("div",{children:[Object(re.jsx)(Ee.a,{component:Je,name:"rememberMe",type:"checkbox"}),"Remember Me"]}),n.captchaURL&&Object(re.jsx)("img",{alt:"capture",src:n.captchaURL}),n.captchaURL&&Object(re.jsx)(Ee.a,{placeholder:"Type text from captcha",component:Je,validate:[ye.b],name:"captcha",type:"input"}),Object(re.jsx)("div",{children:Object(re.jsx)("button",{children:"Login"})})]})})),qe=function(){var e=Object(Le.d)((function(e){return e.auth.captchaURL})),t=Object(Le.d)((function(e){return e.auth.isAuth})),n=Object(Le.c)();return t?Object(re.jsx)(Y.a,{to:"/profile"}):Object(re.jsxs)("div",{children:[Object(re.jsx)("h1",{children:"Login"}),Object(re.jsx)(Xe,{onSubmit:function(e){var t,r,a,s;n((t=e.email,r=e.password,a=e.rememberMe,s=e.captcha,function(){var e=Object(u.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,r,a,s);case 2:0===(c=e.sent).data.resultCode&&n(k()),10===c.data.resultCode&&n(D());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{captchaURL:e}})]})},Ze=n(97),Ye=n.n(Ze),Qe=a.a.memo((function(){return Object(re.jsxs)("div",{children:[Object(re.jsx)("h2",{className:Ye.a.title,children:"News"}),Object(re.jsx)("div",{className:Ye.a.body})]})})),$e=n(98),et=n.n($e),tt=a.a.memo((function(){return Object(re.jsxs)("div",{children:[Object(re.jsx)("h2",{className:et.a.title,children:"Music"}),Object(re.jsx)("div",{className:et.a.body})]})})),nt=n(21),rt=n.n(nt),at=n.p+"static/media/neand.5e875fa6.png",st=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,s=e.OnPageHandler,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var j=Math.ceil(o/i),d=Object(r.useState)(1),p=Object(Oe.a)(d,2),f=p[0],b=p[1],O=(f-1)*i+1,h=f*i;return Object(re.jsx)("div",{className:rt.a.main,children:Object(re.jsxs)("div",{className:rt.a.pagination_wrapper,children:[f>1&&Object(re.jsx)("button",{onClick:function(){b(f-1)},children:"PREV"}),u.filter((function(e){return e>=O&&e<=h})).map((function(e){return Object(re.jsx)("span",{className:a===e?rt.a.selectedPage:"",onClick:function(){s(e)},children:e},e)})),j>f&&Object(re.jsx)("button",{onClick:function(){b(f+1)},children:"NEXT"})]})})},ct=n(54),it=a.a.memo((function(e){return Object(re.jsx)("div",{children:Object(re.jsx)(ct.c,{initialValues:{term:"",friend:"null"},validate:function(e){return{}},onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.OnFilterHandler(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(re.jsxs)(ct.b,{children:[Object(re.jsx)(ct.a,{type:"text",name:"term"})," ",Object(re.jsxs)(ct.a,{name:"friend",as:"select",children:[Object(re.jsx)("option",{value:"null",children:"All"}),Object(re.jsx)("option",{value:"true",children:"Only Followed"}),Object(re.jsx)("option",{value:"false",children:"UnFollowed"})]}),Object(re.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),ot=n(135),ut=(Object(ot.a)((function(e){return e.usersPage.users}),(function(e){return e.map((function(e){return e}))})),function(e){return e.usersPage.pageSize}),lt=function(e){return e.usersPage.currentPage},jt=function(){var e=Object(Le.c)(),t=Object(Le.d)((function(e){return e.usersPage.totalUsersCount})),n=Object(Le.d)(lt),a=Object(Le.d)(ut),s=Object(Le.d)((function(e){return e.usersPage.filter})),c=Object(Le.d)((function(e){return e.usersPage.users})),i=Object(Le.d)((function(e){return e.usersPage.followingProgress}));Object(r.useEffect)((function(){e(L(n,a,s))}),[]);var l=function(t){e(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C(e,!0)),t.next=3,b(e);case 3:0===t.sent.data.resultCode&&n(N(e)),n(C(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},j=function(t){e(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C(e,!0)),t.next=3,O(e);case 3:0===t.sent.data.resultCode&&n(y(e)),n(C(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(re.jsxs)("div",{className:rt.a.main,children:[Object(re.jsx)(it,{OnFilterHandler:function(t){e(L(1,a,t))}}),Object(re.jsx)(st,{currentPage:n,OnPageHandler:function(t){e(L(t,a,s))},totalUsersCount:t,pageSize:a,portionSize:10}),c.map((function(e){return Object(re.jsx)("div",{className:rt.a.item,children:Object(re.jsxs)("span",{children:[Object(re.jsx)("div",{children:Object(re.jsx)(ee.b,{to:"/profile/"+e.id,children:Object(re.jsx)("img",{className:rt.a.image,src:null!==e.photos.small?e.photos.small:at,alt:""})})}),Object(re.jsxs)("div",{className:rt.a.follow,children:[" ",e.followed?Object(re.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){j(e.id)},children:"Unfollow"}):Object(re.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){l(e.id)},children:"Follow"})]}),Object(re.jsx)("span",{children:Object(re.jsxs)("div",{className:rt.a.wrap,children:[Object(re.jsx)("span",{className:rt.a.desc,children:"Name"})," ",Object(re.jsx)("div",{className:rt.a.name,children:e.name})]})})]})},e.id)}))]})},dt=a.a.memo((function(){var e=Object(Le.d)((function(e){return e.usersPage.isFetching}));return Object(re.jsxs)(re.Fragment,{children:[e?Object(re.jsx)(be,{}):null,Object(re.jsx)(jt,{})]})})),pt=a.a.lazy((function(){return n.e(3).then(n.bind(null,272))})),ft=function(e){Object(q.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(re.jsxs)("div",{className:"App",children:[Object(re.jsx)(We,{}),Object(re.jsx)(ce,{}),Object(re.jsx)("div",{className:"profile",children:Object(re.jsxs)(Y.d,{children:[Object(re.jsx)(Y.b,{exact:!0,path:"/",render:function(){return Object(re.jsx)(Y.a,{to:"/profile"})}}),Object(re.jsx)(Y.b,{path:"/dialogs",render:function(){return Object(re.jsx)(r.Suspense,{fallback:Object(re.jsx)("div",{children:"Loading..."}),children:Object(re.jsx)(pt,{})})}}),Object(re.jsx)(Y.b,{path:"/profile/:userId?",render:function(){return Object(re.jsx)(ke,{})}}),Object(re.jsx)(Y.b,{path:"/users",render:function(){return Object(re.jsx)(dt,{})}}),Object(re.jsx)(Y.b,{path:"/login",render:function(){return Object(re.jsx)(qe,{})}}),Object(re.jsx)(Y.b,{path:"/news",render:function(){return Object(re.jsx)(Qe,{})}}),Object(re.jsx)(Y.b,{path:"/music",render:function(){return Object(re.jsx)(tt,{})}})]})})]}):Object(re.jsx)(be,{})}}]),n}(a.a.Component),bt=Object(s.d)(Y.g,Object(Le.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(k());case 2:t({type:"INITIALIZED-SUCCESSES"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(ft),Ot=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,271)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};V.a.render(Object(re.jsx)(a.a.StrictMode,{children:Object(re.jsx)(ee.a,{children:Object(re.jsx)(Le.a,{store:G,children:Object(re.jsx)(bt,{})})})}),document.getElementById("root")),Ot()},27:function(e,t,n){e.exports={nav:"Navbar_nav__2i0I_",menu:"Navbar_menu__3b9Ky",active:"Navbar_active__2kMfW",users:"Navbar_users__ruFIE"}},32:function(e,t,n){e.exports={main:"Friends_main__1XAM0",row:"Friends_row__35Bt8",item:"Friends_item__1Uooj",images:"Friends_images__2gbUq",name:"Friends_name__33fB7"}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},45:function(e,t,n){e.exports={formControl:"Textarea_formControl__50Apl",error:"Textarea_error__2O4Pd"}},67:function(e,t,n){e.exports={profile:"Profile_profile__2LSn5"}},71:function(e,t,n){e.exports={img:"ProfileInfo_img__2lCOw",image:"ProfileInfo_image__2Jz3F",profile__wrapper:"ProfileInfo_profile__wrapper__F4K3S"}},72:function(e,t,n){e.exports={post:"Post_post__3wUTQ",wrap:"Post_wrap__bSfXB",img:"Post_img__2LJI8"}},74:function(e,t,n){e.exports={img:"Header_img__214aN",header:"Header_header__2xpWK"}},93:function(e,t,n){e.exports={main:"Preloader_main__1a-af",img:"Preloader_img__2tHPs"}},94:function(e,t,n){e.exports={posts:"MyPosts_posts__TOD2P",main:"MyPosts_main__2ptLK"}},97:function(e,t,n){},98:function(e,t,n){}},[[264,1,2]]]);
//# sourceMappingURL=main.f769c6ee.chunk.js.map